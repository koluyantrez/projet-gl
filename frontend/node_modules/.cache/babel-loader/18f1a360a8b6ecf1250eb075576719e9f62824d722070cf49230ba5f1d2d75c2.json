{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withModifiers as _withModifiers, withCtx as _withCtx, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-77666770\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"popup\"\n};\nvar _hoisted_2 = {\n  \"class\": \"inner\"\n};\nvar _hoisted_3 = {\n  \"for\": \"file\",\n  \"class\": \"file-upload-label\"\n};\nvar _hoisted_4 = {\n  \"class\": \"file-upload-design\"\n};\nvar _hoisted_5 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"svg\", {\n    viewBox: \"0 0 640 512\",\n    height: \"1em\"\n  }, [/*#__PURE__*/_createElementVNode(\"path\", {\n    d: \"M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z\"\n  })], -1 /* HOISTED */);\n});\nvar _hoisted_6 = {\n  \"class\": \"darktext\"\n};\nvar _hoisted_7 = {\n  \"class\": \"browse-button\"\n};\nvar _hoisted_8 = {\n  key: 0,\n  \"class\": \"uploaded-image\"\n};\nvar _hoisted_9 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_slots = _resolveComponent(\"slots\");\n  var _component_ItemAdd = _resolveComponent(\"ItemAdd\");\n  var _component_center = _resolveComponent(\"center\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_slots), _createVNode(_component_center, null, {\n    \"default\": _withCtx(function () {\n      return [_createElementVNode(\"form\", {\n        \"class\": \"file-upload-form\",\n        onSubmit: _cache[1] || (_cache[1] = _withModifiers(function () {\n          return _ctx.handleSubmit && _ctx.handleSubmit.apply(_ctx, arguments);\n        }, [\"prevent\"]))\n      }, [_createElementVNode(\"label\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"p\", _hoisted_6, _toDisplayString($setup.cLang.Drop.see), 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_7, _toDisplayString($setup.cLang.Drop.explo), 1 /* TEXT */)]), _createElementVNode(\"input\", {\n        id: \"file\",\n        type: \"file\",\n        onChange: _cache[0] || (_cache[0] = function () {\n          return $setup.handleFileUpload && $setup.handleFileUpload.apply($setup, arguments);\n        })\n      }, null, 32 /* NEED_HYDRATION */)])], 32 /* NEED_HYDRATION */), _createVNode(_component_ItemAdd, {\n        word: $setup.cLang.Drop.back,\n        onClick: _cache[2] || (_cache[2] = function ($event) {\n          return $props.ToPicPopup();\n        })\n      }, null, 8 /* PROPS */, [\"word\"])];\n    }),\n    _: 1 /* STABLE */\n  })])]), $setup.uploadedFile ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createElementVNode(\"img\", {\n    src: $setup.uploadedFile,\n    alt: \"Uploaded Image\"\n  }, null, 8 /* PROPS */, _hoisted_9)])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["_createElementVNode","viewBox","height","d","key","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_slots","_component_center","_withCtx","onSubmit","_cache","_withModifiers","_ctx","handleSubmit","apply","arguments","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_toDisplayString","$setup","cLang","Drop","see","_hoisted_7","explo","id","type","onChange","handleFileUpload","_component_ItemAdd","word","back","onClick","$event","$props","ToPicPopup","_","uploadedFile","_hoisted_8","src","alt","_hoisted_9","_createCommentVNode"],"sources":["C:\\Users\\trist\\Desktop\\projet-gl-main\\frontend\\src\\popup\\DropImg.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"popup\">\n      <div class=\"inner\">\n        <slots/>\n        <center>\n          <form class=\"file-upload-form\" @submit.prevent=\"handleSubmit\">\n            <label for=\"file\" class=\"file-upload-label\">\n              <div class=\"file-upload-design\">\n                <svg viewBox=\"0 0 640 512\" height=\"1em\">\n                  <path\n                      d=\"M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z\"\n                  ></path>\n                </svg>\n                <p class=\"darktext\">{{cLang.Drop.see}}</p>\n                <span class=\"browse-button\">{{cLang.Drop.explo}}</span>\n              </div>\n              <input id=\"file\" type=\"file\" @change=\"handleFileUpload\" />\n            </label>\n          </form>\n\n          <ItemAdd :word=\"cLang.Drop.back\" @click=\"ToPicPopup()\"/>\n        </center>\n      </div>\n    </div>\n    <div class=\"uploaded-image\" v-if=\"uploadedFile\">\n      <img :src=\"uploadedFile\" alt=\"Uploaded Image\" />\n    </div>\n  </div>\n</template>\n<script>\nimport ItemAdd from '../elements/ItemAdd.vue';\nimport { useStore } from 'vuex';\nimport { computed, ref, watch } from 'vue';\nimport axios from 'axios';\nimport fr from '../views/fr.js';\nimport en from '../views/en.js';\nimport Cookies from 'js-cookie';\n\nexport default {\n  components: { ItemAdd },\n  props: ['ToPicPopup'],\n\n  setup() {\n    const store = useStore();\n    const idLa = computed(() => store.state.lang.curLang);\n    const cLang = ref(idLa.value === 'fr' ? fr : en);\n\n    watch(idLa, (newLang) => {\n      cLang.value = newLang === 'fr' ? fr : en;\n    });\n\n    const uploadedFile = ref(null);\n    const file = ref(null);\n\n    const handleFileUpload = (event) => {\n      file.value = event.target.files[0];\n      if (file.value) {\n        const formData = new FormData();\n        formData.append('file', file.value);\n\n        const matricule = Cookies.get('matriculeProfesseur') ||\n            Cookies.get('matriculeInscription') ||\n            ''; // Ajoutez ici les autres matricules si nécessaire\n\n        if (matricule) {\n          axios.post(`http://localhost:1937/users/${matricule}/uploadImage`, formData)\n              .then(response => {\n                console.log('Image uploaded successfully');\n                // Rafraîchissement de la page pour afficher la nouvelle image\n                window.location.reload();\n              })\n              .catch(error => {\n                console.error('Error uploading image:', error);\n              });\n        } else {\n          console.error('No matricule found in cookies');\n        }\n      }\n    };\n\n    return {\n      cLang,\n      uploadedFile,\n      handleFileUpload\n    };\n  }\n}\n</script>\n\n\n<style scoped>\n.darktext{\n  font-size: 60px;\n  font-family: Roboto,sans-serif;\n  color: aliceblue;\n}\n\n.popup{\n  position: fixed;\n  top: 0px;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n  z-index: 99;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  .inner{\n    position: relative;\n    background: rgb(255, 255, 255);\n    padding: 39px;\n    border-radius: 10%;\n  }\n}\n\n\n.file-upload-form {\n  width: fit-content;\n  height: fit-content;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.file-upload-label input {\n  display: none;\n}\n.file-upload-label svg {\n  height: 50px;\n  fill: rgb(255, 0, 43);\n  margin-bottom: 20px;\n}\n.file-upload-label {\n  cursor: pointer;\n  background-color: rgb(66, 3, 3);\n  padding: 6rem 8rem;\n  border-radius: 40px;\n  border: 2px dashed rgb(255, 0, 43);\n  box-shadow: 0px 0px 200px -50px rgba(0, 0, 0, 0.719);\n}\n.file-upload-design {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  gap: 5px;\n}\n.browse-button {\n  background-color: rgb(240, 153, 153);\n  padding: 1rem 5rem;\n  border-radius: 20px;\n  color: rgb(255, 0, 43);\n  transition: all 1.2s;\n  font-size: 40px;\n  font-family: Roboto,sans-serif;\n}\n.browse-button:hover {\n  background-color: rgb(255, 255, 255);\n}\n\n/* Styles pour l'image téléchargée */\n.uploaded-image {\n  position: fixed;\n  top: 20px; /* Ajustez ces valeurs pour positionner l'image où vous le souhaitez */\n  right: 20px;\n\n}\n.uploaded-image img {\n  max-width: 100%; /* Assurez-vous que l'image ne dépasse pas de son conteneur */\n}\n</style>\n\n  "],"mappings":";;;;;EAES,SAAM;AAAO;;EACX,SAAM;AAAO;;EAIL,OAAI,MAAM;EAAC,SAAM;;;EACjB,SAAM;AAAoB;;sBAC7BA,mBAAA,CAIM;IAJDC,OAAO,EAAC,aAAa;IAACC,MAAM,EAAC;mBAChCF,mBAAA,CAEQ;IADJG,CAAC,EAAC;EAA6b,G;;;EAGlc,SAAM;AAAU;;EACb,SAAM;AAAe;;EAf3CC,GAAA;EAyBS,SAAM;;iBAzBf;;;;;uBACEC,mBAAA,CA2BM,cA1BJL,mBAAA,CAsBM,OAtBNM,UAsBM,GArBJN,mBAAA,CAoBM,OApBNO,UAoBM,GAnBJC,YAAA,CAAQC,gBAAA,GACRD,YAAA,CAiBSE,iBAAA;IAtBjB,WAAAC,QAAA,CAMU;MAAA,OAaO,CAbPX,mBAAA,CAaO;QAbD,SAAM,kBAAkB;QAAEY,QAAM,EAAAC,MAAA,QAAAA,MAAA,MANhDC,cAAA;UAAA,OAM0DC,IAAA,CAAAC,YAAA,IAAAD,IAAA,CAAAC,YAAA,CAAAC,KAAA,CAAAF,IAAA,EAAAG,SAAA,CAAY;QAAA;UAC1DlB,mBAAA,CAWQ,SAXRmB,UAWQ,GAVNnB,mBAAA,CAQM,OARNoB,UAQM,GAPJC,UAIM,EACNrB,mBAAA,CAA0C,KAA1CsB,UAA0C,EAAAC,gBAAA,CAApBC,MAAA,CAAAC,KAAK,CAACC,IAAI,CAACC,GAAG,kBACpC3B,mBAAA,CAAuD,QAAvD4B,UAAuD,EAAAL,gBAAA,CAAzBC,MAAA,CAAAC,KAAK,CAACC,IAAI,CAACG,KAAK,iB,GAEhD7B,mBAAA,CAA0D;QAAnD8B,EAAE,EAAC,MAAM;QAACC,IAAI,EAAC,MAAM;QAAEC,QAAM,EAAAnB,MAAA,QAAAA,MAAA;UAAA,OAAEW,MAAA,CAAAS,gBAAA,IAAAT,MAAA,CAAAS,gBAAA,CAAAhB,KAAA,CAAAO,MAAA,EAAAN,SAAA,CAAgB;QAAA;sEAI1DV,YAAA,CAAwD0B,kBAAA;QAA9CC,IAAI,EAAEX,MAAA,CAAAC,KAAK,CAACC,IAAI,CAACU,IAAI;QAAGC,OAAK,EAAAxB,MAAA,QAAAA,MAAA,gBAAAyB,MAAA;UAAA,OAAEC,MAAA,CAAAC,UAAU;QAAA;;;IArB7DC,CAAA;UAyBsCjB,MAAA,CAAAkB,YAAY,I,cAA9CrC,mBAAA,CAEM,OAFNsC,UAEM,GADJ3C,mBAAA,CAAgD;IAA1C4C,GAAG,EAAEpB,MAAA,CAAAkB,YAAY;IAAEG,GAAG,EAAC;0BA1BnCC,UAAA,E,KAAAC,mBAAA,e"},"metadata":{},"sourceType":"module","externalDependencies":[]}