{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-a87534b0\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"place\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_TopStudent = _resolveComponent(\"TopStudent\");\n  var _component_ItemSearch = _resolveComponent(\"ItemSearch\");\n  var _component_ItemCours = _resolveComponent(\"ItemCours\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_TopStudent), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_ItemSearch), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.itemc, function (item, index) {\n    return _openBlock(), _createBlock(_component_ItemCours, {\n      word: item,\n      key: index\n    }, null, 8 /* PROPS */, [\"word\"]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["_createElementBlock","_createVNode","_component_TopStudent","_createElementVNode","_hoisted_1","_component_ItemSearch","_Fragment","_renderList","$data","itemc","item","index","_createBlock","_component_ItemCours","word","key"],"sources":["C:\\Users\\trist\\Desktop\\projet-gl-main\\frontend\\src\\components\\everyone\\HomeStudent.vue"],"sourcesContent":["<template>\n  <div>\n    <TopStudent/>\n    <div class=\"place\">\n      <ItemSearch/>\n      <ItemCours v-for=\"(item, index) in itemc\" :word=\"item\" :key=\"index\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport TopStudent from '../../elements/TopStudent.vue';\nimport ItemCours from '../../elements/ItemCours.vue';\nimport ItemSearch from '../../elements/ItemSearch.vue';\nimport Cookies from 'js-cookie';\n\nexport default {\n  components: { ItemCours, TopStudent, ItemSearch },\n  data() {\n    return {\n      itemc: [],\n      matricule: ''\n    };\n  },\n  methods: {\n    extractNumberBeforeAt(email) {\n      const atIndex = email.indexOf('@');\n      if (atIndex !== -1) {\n        const number = email.substring(0, atIndex);\n        return number;\n      } else {\n        return null;\n      }\n    },\n\n    getCours() {\n      const email = Cookies.get('emailStudent');\n      const password = Cookies.get('passwordStudent');\n      if (!email || !password) {\n        // Gérer le cas où les cookies ne sont pas présents\n        return;\n      }\n\n      const login = {\n        email: email,\n        password: password\n      };\n\n      console.log(\"email : \" + login.email);\n      this.matricule = this.extractNumberBeforeAt(login.email)\n      console.log(\"matricule : \" + this.matricule);\n      Cookies.set('matriculeStudent', this.matricule);\n      axios.post('http://localhost:1937/students/getActuelCours', login)\n          .then(response => {\n            const cours = response.data.map(cours => cours.name);\n            this.itemc = cours;\n            this.$router.push({\n              query: {\n                matricule: login.email\n              }\n            });\n          })\n          .catch(error => {\n            console.error(error);\n          });\n    },\n\n    goToProfil() {\n      const email = Cookies.get('email');\n    },\n\n    handleShowDetails(word) {\n        this.$router.push({ name: 'courseSection', params: { courseName: word } });\n    },\n\n  },\n\n  created() {\n    this.getCours();\n    this.goToProfil(); // Appeler la méthode goToProfil()\n  }\n};\n</script>\n\n<style scoped>\n.place {\n    position: absolute;\n    top: 20%;\n    left: 8%;\n}\n</style>"],"mappings":";;;;;EAGS,SAAM;AAAO;;;;;uBAFpBA,mBAAA,CAMM,cALJC,YAAA,CAAaC,qBAAA,GACbC,mBAAA,CAGM,OAHNC,UAGM,GAFJH,YAAA,CAAaI,qBAAA,I,kBACbL,mBAAA,CAAqEM,SAAA,QAL3EC,WAAA,CAKyCC,KAAA,CAAAC,KAAK,EAL9C,UAKyBC,IAAI,EAAEC,KAAK;yBAA9BC,YAAA,CAAqEC,oBAAA;MAA1BC,IAAI,EAAEJ,IAAI;MAAGK,GAAG,EAAEJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}