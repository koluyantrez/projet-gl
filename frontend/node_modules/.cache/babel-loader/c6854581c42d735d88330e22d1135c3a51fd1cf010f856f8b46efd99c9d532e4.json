{"ast":null,"code":"import \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport axios from 'axios';\nimport TopStudent from '../../elements/TopStudent.vue';\nimport ItemCours from '../../elements/ItemCours.vue';\nimport ItemSearch from '../../elements/ItemSearch.vue';\nimport Cookies from 'js-cookie';\nexport default {\n  components: {\n    ItemCours: ItemCours,\n    TopStudent: TopStudent,\n    ItemSearch: ItemSearch\n  },\n  data: function data() {\n    return {\n      itemc: [],\n      matricule: ''\n    };\n  },\n  methods: {\n    extractNumberBeforeAt: function extractNumberBeforeAt(email) {\n      var atIndex = email.indexOf('@');\n      if (atIndex !== -1) {\n        var number = email.substring(0, atIndex);\n        return number;\n      } else {\n        return null;\n      }\n    },\n    getCours: function getCours() {\n      var _this = this;\n      var email = Cookies.get('emailStudent');\n      var password = Cookies.get('passwordStudent');\n      if (!email || !password) {\n        // Gérer le cas où les cookies ne sont pas présents\n        return;\n      }\n      var login = {\n        email: email,\n        password: password\n      };\n      console.log(\"email : \" + login.email);\n      this.matricule = this.extractNumberBeforeAt(login.email);\n      console.log(\"matricule : \" + this.matricule);\n      Cookies.set('matriculeStudent', this.matricule);\n      axios.post('http://localhost:1937/students/getActuelCours', login).then(function (response) {\n        var cours = response.data.map(function (cours) {\n          return cours.name;\n        });\n        _this.itemc = cours;\n        _this.$router.push({\n          query: {\n            matricule: login.email\n          }\n        });\n      })[\"catch\"](function (error) {\n        console.error(error);\n      });\n    },\n    goToProfil: function goToProfil() {\n      var email = Cookies.get('email');\n    },\n    handleShowDetails: function handleShowDetails(word) {\n      this.$router.push({\n        name: 'courseSection',\n        params: {\n          courseName: word\n        }\n      });\n    }\n  },\n  created: function created() {\n    this.getCours();\n    this.goToProfil(); // Appeler la méthode goToProfil()\n  }\n};","map":{"version":3,"names":["axios","TopStudent","ItemCours","ItemSearch","Cookies","components","data","itemc","matricule","methods","extractNumberBeforeAt","email","atIndex","indexOf","number","substring","getCours","_this","get","password","login","console","log","set","post","then","response","cours","map","name","$router","push","query","error","goToProfil","handleShowDetails","word","params","courseName","created"],"sources":["C:\\Users\\trist\\Desktop\\projet-gl-main\\frontend\\src\\components\\everyone\\HomeStudent.vue"],"sourcesContent":["<template>\n  <div>\n    <TopStudent/>\n    <div class=\"place\">\n      <ItemSearch/>\n      <ItemCours v-for=\"(item, index) in itemc\" :word=\"item\" :key=\"index\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport TopStudent from '../../elements/TopStudent.vue';\nimport ItemCours from '../../elements/ItemCours.vue';\nimport ItemSearch from '../../elements/ItemSearch.vue';\nimport Cookies from 'js-cookie';\n\nexport default {\n  components: { ItemCours, TopStudent, ItemSearch },\n  data() {\n    return {\n      itemc: [],\n      matricule: ''\n    };\n  },\n  methods: {\n    extractNumberBeforeAt(email) {\n      const atIndex = email.indexOf('@');\n      if (atIndex !== -1) {\n        const number = email.substring(0, atIndex);\n        return number;\n      } else {\n        return null;\n      }\n    },\n\n    getCours() {\n      const email = Cookies.get('emailStudent');\n      const password = Cookies.get('passwordStudent');\n      if (!email || !password) {\n        // Gérer le cas où les cookies ne sont pas présents\n        return;\n      }\n\n      const login = {\n        email: email,\n        password: password\n      };\n\n      console.log(\"email : \" + login.email);\n      this.matricule = this.extractNumberBeforeAt(login.email)\n      console.log(\"matricule : \" + this.matricule);\n      Cookies.set('matriculeStudent', this.matricule);\n      axios.post('http://localhost:1937/students/getActuelCours', login)\n          .then(response => {\n            const cours = response.data.map(cours => cours.name);\n            this.itemc = cours;\n            this.$router.push({\n              query: {\n                matricule: login.email\n              }\n            });\n          })\n          .catch(error => {\n            console.error(error);\n          });\n    },\n\n    goToProfil() {\n      const email = Cookies.get('email');\n    },\n\n    handleShowDetails(word) {\n        this.$router.push({ name: 'courseSection', params: { courseName: word } });\n    },\n\n  },\n\n  created() {\n    this.getCours();\n    this.goToProfil(); // Appeler la méthode goToProfil()\n  }\n};\n</script>\n\n<style scoped>\n.place {\n    position: absolute;\n    top: 20%;\n    left: 8%;\n}\n</style>"],"mappings":";;;;AAWA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,UAAS,MAAO,+BAA+B;AACtD,OAAOC,SAAQ,MAAO,8BAA8B;AACpD,OAAOC,UAAS,MAAO,+BAA+B;AACtD,OAAOC,OAAM,MAAO,WAAW;AAE/B,eAAe;EACbC,UAAU,EAAE;IAAEH,SAAS,EAATA,SAAS;IAAED,UAAU,EAAVA,UAAU;IAAEE,UAAS,EAATA;EAAW,CAAC;EACjDG,IAAI,WAAAA,KAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,qBAAqB,WAAAA,sBAACC,KAAK,EAAE;MAC3B,IAAMC,OAAM,GAAID,KAAK,CAACE,OAAO,CAAC,GAAG,CAAC;MAClC,IAAID,OAAM,KAAM,CAAC,CAAC,EAAE;QAClB,IAAME,MAAK,GAAIH,KAAK,CAACI,SAAS,CAAC,CAAC,EAAEH,OAAO,CAAC;QAC1C,OAAOE,MAAM;MACf,OAAO;QACL,OAAO,IAAI;MACb;IACF,CAAC;IAEDE,QAAQ,WAAAA,SAAA,EAAG;MAAA,IAAAC,KAAA;MACT,IAAMN,KAAI,GAAIP,OAAO,CAACc,GAAG,CAAC,cAAc,CAAC;MACzC,IAAMC,QAAO,GAAIf,OAAO,CAACc,GAAG,CAAC,iBAAiB,CAAC;MAC/C,IAAI,CAACP,KAAI,IAAK,CAACQ,QAAQ,EAAE;QACvB;QACA;MACF;MAEA,IAAMC,KAAI,GAAI;QACZT,KAAK,EAAEA,KAAK;QACZQ,QAAQ,EAAEA;MACZ,CAAC;MAEDE,OAAO,CAACC,GAAG,CAAC,UAAS,GAAIF,KAAK,CAACT,KAAK,CAAC;MACrC,IAAI,CAACH,SAAQ,GAAI,IAAI,CAACE,qBAAqB,CAACU,KAAK,CAACT,KAAK;MACvDU,OAAO,CAACC,GAAG,CAAC,cAAa,GAAI,IAAI,CAACd,SAAS,CAAC;MAC5CJ,OAAO,CAACmB,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAACf,SAAS,CAAC;MAC/CR,KAAK,CAACwB,IAAI,CAAC,+CAA+C,EAAEJ,KAAK,EAC5DK,IAAI,CAAC,UAAAC,QAAO,EAAK;QAChB,IAAMC,KAAI,GAAID,QAAQ,CAACpB,IAAI,CAACsB,GAAG,CAAC,UAAAD,KAAI;UAAA,OAAKA,KAAK,CAACE,IAAI;QAAA,EAAC;QACpDZ,KAAI,CAACV,KAAI,GAAIoB,KAAK;QAClBV,KAAI,CAACa,OAAO,CAACC,IAAI,CAAC;UAChBC,KAAK,EAAE;YACLxB,SAAS,EAAEY,KAAK,CAACT;UACnB;QACF,CAAC,CAAC;MACJ,CAAC,UACK,CAAC,UAAAsB,KAAI,EAAK;QACdZ,OAAO,CAACY,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IACR,CAAC;IAEDC,UAAU,WAAAA,WAAA,EAAG;MACX,IAAMvB,KAAI,GAAIP,OAAO,CAACc,GAAG,CAAC,OAAO,CAAC;IACpC,CAAC;IAEDiB,iBAAiB,WAAAA,kBAACC,IAAI,EAAE;MACpB,IAAI,CAACN,OAAO,CAACC,IAAI,CAAC;QAAEF,IAAI,EAAE,eAAe;QAAEQ,MAAM,EAAE;UAAEC,UAAU,EAAEF;QAAK;MAAE,CAAC,CAAC;IAC9E;EAEF,CAAC;EAEDG,OAAO,WAAAA,QAAA,EAAG;IACR,IAAI,CAACvB,QAAQ,CAAC,CAAC;IACf,IAAI,CAACkB,UAAU,CAAC,CAAC,EAAE;EACrB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}