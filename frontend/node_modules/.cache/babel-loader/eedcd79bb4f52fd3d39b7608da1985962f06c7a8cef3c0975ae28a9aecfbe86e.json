{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-a87534b0\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"container\"\n};\nvar _hoisted_2 = {\n  \"class\": \"place\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_TopStudent = _resolveComponent(\"TopStudent\");\n  var _component_ItemCours = _resolveComponent(\"ItemCours\");\n  var _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_TopStudent), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.itemc, function (item, index) {\n    return _openBlock(), _createBlock(_component_ItemCours, {\n      word: item,\n      key: index\n    }, null, 8 /* PROPS */, [\"word\"]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createVNode(_component_router_link, {\n    to: {\n      name: 'sprofil',\n      params: {\n        matricule: $data.matricule\n      }\n    }\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createTextVNode(\"Profil\")];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\"])]);\n}","map":{"version":3,"names":["_createElementBlock","_createVNode","_component_TopStudent","_createElementVNode","_hoisted_1","_hoisted_2","_Fragment","_renderList","$data","itemc","item","index","_createBlock","_component_ItemCours","word","key","_component_router_link","to","name","params","matricule","_withCtx","_createTextVNode","_"],"sources":["/home/koluyantrez/Documents/bac3/gl/Projet-developpement-logiciel-2024-main/src/main/java/com/genieLogiciel/Umons/frontend/src/components/everyone/HomeStudent.vue"],"sourcesContent":["<template>\n  <div>\n    <TopStudent/>\n    <div class=\"container\">\n      <div class=\"place\">\n        <ItemCours v-for=\"(item, index) in itemc\" :word=\"item\" :key=\"index\"/>\n      </div>\n    </div>\n    <router-link :to=\"{ name: 'sprofil', params: { matricule: matricule } }\">Profil</router-link>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport TopStudent from '../../elements/TopStudent.vue';\nimport ItemCours from '../../elements/ItemCours.vue';\nimport Cookies from 'js-cookie';\n\nexport default {\n  components: { ItemCours, TopStudent },\n  data() {\n    return {\n      itemc: [],\n      matricule: ''\n    };\n  },\n  methods: {\n    extractNumberBeforeAt(email) {\n      const atIndex = email.indexOf('@');\n      if (atIndex !== -1) {\n        const number = email.substring(0, atIndex);\n        return number;\n      } else {\n        return null;\n      }\n    },\n\n    getCours() {\n      const email = Cookies.get('emailStudent');\n      const password = Cookies.get('passwordStudent');\n      if (!email || !password) {\n        // Gérer le cas où les cookies ne sont pas présents\n        return;\n      }\n\n      const login = {\n        email: email,\n        password: password\n      };\n\n      console.log(\"email : \" + login.email);\n      this.matricule = this.extractNumberBeforeAt(login.email)\n      console.log(\"matricule : \" + this.matricule);\n      Cookies.set('matriculeStudent', this.matricule);\n      axios.post('http://localhost:1937/students/getActuelCours', login)\n          .then(response => {\n            const cours = response.data.map(cours => cours.name);\n            this.itemc = cours;\n            this.$router.push({\n              query: {\n                matricule: login.email\n              }\n            });\n          })\n          .catch(error => {\n            console.error(error);\n          });\n    },\n\n    goToProfil() {\n      const email = Cookies.get('email');\n\n    }\n  },\n\n  created() {\n    this.getCours();\n    this.goToProfil(); // Appeler la méthode goToProfil()\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  position: absolute;\n  width: 100%;\n  height: 54rem;\n  bottom: 0.1rem;\n  left: -0.42rem;\n  overflow: auto;\n  z-index: 1;\n  transform: translateY(50px);\n}\n\n.place {\n  position: absolute;\n  top: 1rem;\n  left: 10%;\n}\n</style>"],"mappings":";;;;;EAGS,SAAM;AAAW;;EACf,SAAM;AAAO;;;;;uBAHtBA,mBAAA,CAQM,cAPJC,YAAA,CAAaC,qBAAA,GACbC,mBAAA,CAIM,OAJNC,UAIM,GAHJD,mBAAA,CAEM,OAFNE,UAEM,I,kBADJL,mBAAA,CAAqEM,SAAA,QAL7EC,WAAA,CAK2CC,KAAA,CAAAC,KAAK,EALhD,UAK2BC,IAAI,EAAEC,KAAK;yBAA9BC,YAAA,CAAqEC,oBAAA;MAA1BC,IAAI,EAAEJ,IAAI;MAAGK,GAAG,EAAEJ;;sCAGjEV,YAAA,CAA6Fe,sBAAA;IAA/EC,EAAE;MAAAC,IAAA;MAAAC,MAAA;QAAAC,SAAA,EAA0CZ,KAAA,CAAAY;MAAS;IAAA;;IARvE,WAAAC,QAAA,CAQ6E;MAAA,OAAM,CARnFC,gBAAA,CAQ6E,QAAM,E;;IARnFC,CAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}