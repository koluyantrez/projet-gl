{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_router_link = _resolveComponent(\"router-link\");\n  var _component_center = _resolveComponent(\"center\");\n  return _openBlock(), _createBlock(_component_center, null, {\n    \"default\": _withCtx(function () {\n      return [_createElementVNode(\"div\", null, [_createVNode(_component_router_link, {\n        to: {\n          name: 'courseSection',\n          params: {\n            cours: $props.word\n          }\n        }\n      }, {\n        \"default\": _withCtx(function () {\n          return [_createElementVNode(\"button\", {\n            \"class\": \"button\",\n            onClick: _cache[0] || (_cache[0] = function () {\n              return $options.redirectToSection && $options.redirectToSection.apply($options, arguments);\n            })\n          }, _toDisplayString($props.word), 1 /* TEXT */)];\n        }),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"to\"]), _createCommentVNode(\" Ajouter une condition pour afficher le bouton de suppression uniquement si le rôle est \\\"professeur\\\" \"), $options.isProfessorRole() ? (_openBlock(), _createElementBlock(\"button\", {\n        key: 0,\n        \"class\": \"delete-button\",\n        onClick: _cache[1] || (_cache[1] = function () {\n          return $options.showDeleteConfirmation && $options.showDeleteConfirmation.apply($options, arguments);\n        })\n      }, \"Supprimer\")) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Ajouter une condition pour afficher le bouton \\\"Supprimer\\\" uniquement si le rôle est \\\"professeur\\\" \"), _createElementVNode(\"button\", {\n        \"class\": \"details-button\",\n        onClick: _cache[2] || (_cache[2] = function () {\n          return $options.showDetails && $options.showDetails.apply($options, arguments);\n        })\n      }, \"Détails\")])];\n    }),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_center","_withCtx","_createElementVNode","_createVNode","_component_router_link","to","name","params","cours","$props","word","onClick","_cache","$options","redirectToSection","apply","arguments","_","_createCommentVNode","isProfessorRole","_createElementBlock","key","showDeleteConfirmation","showDetails"],"sources":["C:\\Users\\trist\\Desktop\\projet-gl-main\\frontend\\src\\elements\\ItemCours.vue"],"sourcesContent":["<template>\n  <center>\n    <div>\n      <router-link :to=\"{ name: 'courseSection', params: { cours: word } }\">\n        <button class=\"button\" @click=\"redirectToSection\">{{ word }}</button>\n      </router-link>\n      <!-- Ajouter une condition pour afficher le bouton de suppression uniquement si le rôle est \"professeur\" -->\n      <button v-if=\"isProfessorRole()\" class=\"delete-button\" @click=\"showDeleteConfirmation\">Supprimer</button>\n      <!-- Ajouter une condition pour afficher le bouton \"Supprimer\" uniquement si le rôle est \"professeur\" -->\n      <button class=\"details-button\" @click=\"showDetails\">Détails</button>\n    </div>\n  </center>\n</template>\n\n<script>\nimport Cookies from 'js-cookie';\nimport Swal from 'sweetalert2'; // Importation de SweetAlert2\nimport axios from 'axios';\n\nexport default {\n  props: ['word'],\n  methods: {\n\n    redirectToSection() {\n      // Enregistrer le nom du cours dans les cookies\n      Cookies.set('selectedCourse', this.word);\n      // Rediriger vers la page de section\n      this.$router.push({ name: 'courseSection', params: {cours: this.word} });\n    },\n\n    isProfessorRole() {\n      const role = Cookies.get('role');\n      return role === 'professeur';\n    },\n    showDeleteConfirmation() {\n      Swal.fire({\n        title: 'Êtes-vous sûr de vouloir supprimer ce cours ?',\n        text: \"Cette action est irréversible.\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Oui, supprimer',\n        cancelButtonText: 'Annuler'\n      }).then((result) => {\n        if (result.isConfirmed) {\n          this.deleteCourse();\n        }\n      });\n    },\n    deleteCourse() {\n      if (this.isProfessorRole()) {\n        // Récupérer le nom du cours à supprimer\n        const courseName = this.word;\n\n        // Envoyer une requête DELETE à votre backend\n        axios.delete(`http://localhost:1937/teachers/deleteCoursFromProf?coursName=${courseName}`)\n            .then(response => {\n              // Gérer la réponse du backend\n              console.log(response.data);\n              // Mettre à jour la liste des cours en appelant la méthode getCourses\n              this.getCourses(); // Appel de la méthode getCourses passée en prop\n            })\n            .catch(error => {\n              // Gérer les erreurs de requête\n              console.error(error);\n            });\n      } else {\n        // Gérer le cas où l'utilisateur n'a pas les autorisations nécessaires\n        console.log(\"Vous n'êtes pas autorisé à supprimer le cours.\");\n      }\n    },\n    showDetails() {\n      // Émettre un événement pour signaler que le bouton \"Détails\" a été cliqué\n      this.$emit('show-details', this.word);\n    },\n    redirectToDetails() {\n      // Enregistrer le nom du cours dans les cookies\n      Cookies.set('selectedCourse', this.word);\n      // Rediriger vers la page \"DetailsCourse\"\n      this.$router.push({ name: 'DetailsCourse', params: { courseName: this.word }});\n    }\n  }\n}\n</script>\n\n<style scoped>\n.button {\n --color: rgb(158, 11, 23);\n width: 100rem;\n height: 6rem;\n background-color: rgba(0, 0, 0, 0.2);\n border-radius: .3em;\n position: relative;\n overflow: hidden;\n cursor: pointer;\n transition: .5s;\n font-weight: 400;\n font-size: 20px;\n border: 2px solid;\n font-family: Roboto,sans-serif;\n text-transform: uppercase;\n color: var(--color);\n z-index: 1;\n margin-top: 3rem;\n}\n\n.button::before, .button::after {\n content: '';\n display: block;\n width: 3rem;\n height: 1rem;\n transform: translate(-50%, -50%);\n position: absolute;\n border-radius: 50%;\n z-index: -1;\n background-color: var(--color);\n transition: 0.8s ease;\n}\n\n.button::before {\n top: -1em;\n left: -1em;\n}\n\n.button::after {\n left: calc(100% + 1em);\n top: calc(100% + 1em);\n}\n\n.button:hover::before, .button:hover::after {\n height: 1700px;\n width: 1700px;\n}\n\n.button:hover {\n color: rgb(236, 181, 181);\n}\n\n.button:active {\n filter: brightness(.8);\n}\n\n.delete-button {\n  margin-left: 10px;\n  background-color: red;\n  color: white;\n  border: none;\n  padding: 5px 10px;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\n.delete-button:hover {\n  background-color: darkred;\n}\n\n.details-button {\n  margin-left: 10px;\n  background-color: blue;\n  color: white;\n  border: none;\n  padding: 5px 10px;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\n.details-button:hover {\n  background-color: darkblue;\n}\n</style>\n"],"mappings":";;;;uBACEA,YAAA,CAUSC,iBAAA;IAXX,WAAAC,QAAA,CAEI;MAAA,OAQM,CARNC,mBAAA,CAQM,cAPJC,YAAA,CAEcC,sBAAA;QAFAC,EAAE;UAAAC,IAAA;UAAAC,MAAA;YAAAC,KAAA,EAA4CC,MAAA,CAAAC;UAAI;QAAA;;QAHtE,WAAAT,QAAA,CAIQ;UAAA,OAAqE,CAArEC,mBAAA,CAAqE;YAA7D,SAAM,QAAQ;YAAES,OAAK,EAAAC,MAAA,QAAAA,MAAA;cAAA,OAAEC,QAAA,CAAAC,iBAAA,IAAAD,QAAA,CAAAC,iBAAA,CAAAC,KAAA,CAAAF,QAAA,EAAAG,SAAA,CAAiB;YAAA;8BAAKP,MAAA,CAAAC,IAAI,iB;;QAJjEO,CAAA;iCAMMC,mBAAA,2GAA4G,EAC9FL,QAAA,CAAAM,eAAe,M,cAA7BC,mBAAA,CAAyG;QAP/GC,GAAA;QAOuC,SAAM,eAAe;QAAEV,OAAK,EAAAC,MAAA,QAAAA,MAAA;UAAA,OAAEC,QAAA,CAAAS,sBAAA,IAAAT,QAAA,CAAAS,sBAAA,CAAAP,KAAA,CAAAF,QAAA,EAAAG,SAAA,CAAsB;QAAA;SAAE,WAAS,KAPtGE,mBAAA,gBAQMA,mBAAA,0GAAyG,EACzGhB,mBAAA,CAAoE;QAA5D,SAAM,gBAAgB;QAAES,OAAK,EAAAC,MAAA,QAAAA,MAAA;UAAA,OAAEC,QAAA,CAAAU,WAAA,IAAAV,QAAA,CAAAU,WAAA,CAAAR,KAAA,CAAAF,QAAA,EAAAG,SAAA,CAAW;QAAA;SAAE,SAAO,E;;IATjEC,CAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}