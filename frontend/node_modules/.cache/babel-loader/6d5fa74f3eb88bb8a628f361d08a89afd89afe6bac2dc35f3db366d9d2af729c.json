{"ast":null,"code":"import _regeneratorRuntime from \"/home/koluyantrez/Documents/bac3/gl/Projet-developpement-logiciel-2024-main/src/main/java/com/genieLogiciel/Umons/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/koluyantrez/Documents/bac3/gl/Projet-developpement-logiciel-2024-main/src/main/java/com/genieLogiciel/Umons/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport TopProf from '../../elements/TopProf.vue';\nimport ItemButton from '../../elements/ItemButton.vue';\nimport ModifPro from '../../popup/ModifPro.vue';\nimport Profil from '../../elements/Profil.vue';\nimport PassWord from '../../popup/PassWord.vue';\nimport DropImg from '../../popup/DropImg.vue';\nimport { useStore } from 'vuex';\nimport { computed, watch, ref, onMounted } from 'vue';\nimport fr from '../../views/fr.js';\nimport en from '../../views/en.js';\nimport Cookies from \"js-cookie\";\nimport axios from \"axios\";\n//import Personnel from '../../model/Personnel.java';\n\nexport default {\n  components: {\n    TopProf: TopProf,\n    Profil: Profil,\n    ItemButton: ItemButton,\n    ModifPro: ModifPro,\n    PassWord: PassWord,\n    DropImg: DropImg\n  },\n  setup: function setup() {\n    var matricule = ref(Cookies.get('matriculeProfesseur'));\n    console.log(\"le matricule de prof est : \" + matricule.value);\n    var store = useStore();\n    var idLa = computed(function () {\n      return store.state.lang.curLang;\n    });\n    var cLang = ref(idLa.value === 'fr' ? fr : en);\n    watch(idLa, function (newLang) {\n      cLang.value = newLang === 'fr' ? fr : en;\n    });\n    var uploadedFile = ref(null);\n    var handleFileUpload = function handleFileUpload(event) {\n      var file = event.target.files[0];\n      uploadedFile.value = URL.createObjectURL(file);\n    };\n    var AddPic = ref({\n      buPic: false\n    });\n    var ToPicPopup = function ToPicPopup(tri) {\n      AddPic.value[tri] = !AddPic.value[tri];\n    };\n    var popupMod = ref({\n      buTriMod: false\n    });\n    var ToModPopup = function ToModPopup(tri2) {\n      popupMod.value[tri2] = !popupMod.value[tri2];\n    };\n    var pwMod = ref({\n      buPass: false\n    });\n    var ToPassPopup = function ToPassPopup(tri3) {\n      pwMod.value[tri3] = !pwMod.value[tri3];\n    };\n    var professeurInfo = ref({\n      name: '',\n      adresse: '',\n      numero: '',\n      email: '',\n      matricule: ''\n    });\n    var fetchProfInfo = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response, professeurData;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get('http://localhost:1937/teachers/findById', {\n                params: {\n                  matricule: matricule.value\n                }\n              });\n            case 3:\n              response = _context.sent;\n              professeurData = response.data;\n              professeurInfo.value.name = professeurData.name;\n              professeurInfo.value.adresse = professeurData.adresse;\n              professeurInfo.value.numero = professeurData.numero;\n              professeurInfo.value.email = professeurData.email;\n              professeurInfo.value.matricule = professeurData.matricule; // Set the matricule value\n              _context.next = 15;\n              break;\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](0);\n              console.log('error fetching teacher info : ', _context.t0);\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 12]]);\n      }));\n      return function fetchProfInfo() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    onMounted(function () {\n      fetchProfInfo();\n    });\n    return {\n      cLang: cLang,\n      popupMod: popupMod,\n      ToModPopup: ToModPopup,\n      pwMod: pwMod,\n      ToPassPopup: ToPassPopup,\n      AddPic: AddPic,\n      ToPicPopup: ToPicPopup,\n      uploadedFile: uploadedFile,\n      //update the database\n      handleFileUpload: handleFileUpload,\n      professeurInfo: professeurInfo\n\n      /* methods:{\n          getAllData(){\n              Personnel.getAllData().then((response)=>{this.cours=response.data})\n          }\n      },\n      created(){\n          this.getAllData()\n      } */\n    };\n  }\n};","map":{"version":3,"names":["TopProf","ItemButton","ModifPro","Profil","PassWord","DropImg","useStore","computed","watch","ref","onMounted","fr","en","Cookies","axios","components","setup","matricule","get","console","log","value","store","idLa","state","lang","curLang","cLang","newLang","uploadedFile","handleFileUpload","event","file","target","files","URL","createObjectURL","AddPic","buPic","ToPicPopup","tri","popupMod","buTriMod","ToModPopup","tri2","pwMod","buPass","ToPassPopup","tri3","professeurInfo","name","adresse","numero","email","fetchProfInfo","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","professeurData","wrap","_callee$","_context","prev","next","params","sent","data","t0","stop","apply","arguments"],"sources":["/home/koluyantrez/Documents/bac3/gl/Projet-developpement-logiciel-2024-main/src/main/java/com/genieLogiciel/Umons/frontend/src/components/everyone/ProfilProf.vue"],"sourcesContent":["<template>\n  <TopProf/>\n  <Profil/>\n  <div class=\"info\">\n    <p>{{ professeurInfo.name }}</p>\n    <p>{{ professeurInfo.adresse }}</p>\n    <p>{{ professeurInfo.numero }}</p>\n    <p>{{ professeurInfo.email }}</p>\n\n  </div>\n  <div class=\"b\">\n    <ItemButton :name=\"cLang.Profile.edit\"  @click=\"() => ToModPopup('buTriMod')\"/>\n    <ItemButton name=\"Photo\" @click=\"() => ToPicPopup('buPic')\"/>\n    <ItemButton :name=\"cLang.Profile.pw\" @click=\"() => ToPassPopup('buPass')\"/>\n    <router-link to=\"/\">\n      <ItemButton :name=\"cLang.Profile.unsi\"/>\n    </router-link>\n  </div>\n  <ModifPro v-if=\"popupMod.buTriMod\" :ToModPopup=\"() => ToModPopup('buTriMod')\" />\n  <DropImg v-if=\"AddPic.buPic\" :ToPicPopup=\"() => ToPicPopup('buPic')\" />\n  <PassWord v-if=\"pwMod.buPass\" :ToPassPopup=\"() => ToPassPopup('buPass')\" />\n</template>\n\n\n<script>\nimport TopProf from '../../elements/TopProf.vue';\nimport ItemButton from '../../elements/ItemButton.vue';\nimport ModifPro from '../../popup/ModifPro.vue';\nimport Profil from '../../elements/Profil.vue';\nimport PassWord from '../../popup/PassWord.vue';\nimport DropImg from '../../popup/DropImg.vue';\nimport { useStore } from 'vuex';\nimport { computed, watch, ref, onMounted } from 'vue';\nimport fr from '../../views/fr.js';\nimport en from '../../views/en.js';\nimport Cookies from \"js-cookie\";\nimport axios from \"axios\";\n//import Personnel from '../../model/Personnel.java';\n\nexport default {\n  components: { TopProf, Profil, ItemButton, ModifPro, PassWord, DropImg },\n  setup() {\n\n    const matricule = ref(Cookies.get('matriculeProfesseur'));\n    console.log(\"le matricule de prof est : \" + matricule.value);\n    const store = useStore();\n    const idLa = computed(() => store.state.lang.curLang);\n    const cLang = ref(idLa.value === 'fr' ? fr : en);\n\n    watch(idLa, (newLang) => {\n      cLang.value = newLang === 'fr' ? fr : en;\n    });\n\n    const uploadedFile = ref(null);\n    const handleFileUpload = (event) => {\n      const file = event.target.files[0];\n      uploadedFile.value = URL.createObjectURL(file);\n    };\n    const AddPic = ref({\n      buPic: false\n    });\n    const ToPicPopup = (tri) => {\n      AddPic.value[tri] = !AddPic.value[tri]\n    }\n    const popupMod = ref({\n      buTriMod: false\n    });\n    const ToModPopup = (tri2) => {\n      popupMod.value[tri2] = !popupMod.value[tri2]\n    }\n\n    const pwMod = ref({\n      buPass: false\n    });\n    const ToPassPopup = (tri3) => {\n      pwMod.value[tri3] = !pwMod.value[tri3]\n    };\n    const professeurInfo = ref({\n      name: '',\n      adresse: '',\n      numero: '',\n      email: '',\n      matricule: ''\n    });\n\n    const fetchProfInfo = async () => {\n      try {\n        const response = await axios.get('http://localhost:1937/teachers/findById', {\n          params: {\n            matricule: matricule.value\n          }\n        });\n        const professeurData = response.data;\n        professeurInfo.value.name = professeurData.name;\n        professeurInfo.value.adresse = professeurData.adresse;\n        professeurInfo.value.numero = professeurData.numero;\n        professeurInfo.value.email = professeurData.email;\n        professeurInfo.value.matricule = professeurData.matricule; // Set the matricule value\n      } catch (error) {\n        console.log('error fetching teacher info : ', error);\n      }\n    };\n\n    onMounted(() => {\n      fetchProfInfo();\n    });\n\n    return {\n\n      cLang,\n\n      popupMod,\n      ToModPopup,\n      pwMod,\n      ToPassPopup,\n      AddPic,\n      ToPicPopup,\n      uploadedFile, //update the database\n      handleFileUpload,\n      professeurInfo\n\n\n      /* methods:{\n          getAllData(){\n              Personnel.getAllData().then((response)=>{this.cours=response.data})\n          }\n      },\n      created(){\n          this.getAllData()\n      } */\n    };\n  }\n}\n</script>\n\n<style scoped>\n.w {\n  position: absolute;\n  left: 110px;\n  top: 70px;\n}\n\n.b {\n  position: absolute;\n  left: 100px;\n  bottom: 100px;\n}\n\n.i {\n  position: absolute;\n  left: 90px;\n  bottom: 350px;\n  width: 300px;\n  height: 300px;\n}\n\n.info {\n  position: absolute;\n  left: 530px;\n  bottom: 300px;\n  color: rgb(158, 11, 23);\n  font-family: Roboto, sans-serif;\n  font-size: 43px;\n  transform: translateY(25px);\n}\n</style>\n\n\n<style>\nh1 {\n  color: rgb(158, 11, 23);\n  font-family: Roboto, sans-serif;\n  font-weight: 450;\n  font-size: 100px;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}