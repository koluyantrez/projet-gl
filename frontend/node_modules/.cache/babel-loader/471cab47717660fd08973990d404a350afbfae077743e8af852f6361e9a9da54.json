{"ast":null,"code":"import \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport ItemCours from '../../elements/ItemCours.vue';\nimport ItemAdd from '../../elements/ItemAdd.vue';\nimport TopProf from '../../elements/TopProf.vue';\nimport ListCoursAdd from '../../popup/ListCoursAdd.vue';\nimport { useStore } from 'vuex';\nimport { computed, watch, ref } from 'vue';\nimport fr from '../../views/fr.js';\nimport en from '../../views/en.js';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nexport default {\n  components: {\n    ItemCours: ItemCours,\n    TopProf: TopProf,\n    ItemAdd: ItemAdd,\n    ListCoursAdd: ListCoursAdd\n  },\n  data: function data() {\n    var li = ref({\n      modalIsOpen: false\n    });\n    var ToShow = function ToShow(tri) {\n      li.value[tri] = !li.value[tri];\n    };\n    var store = useStore();\n    var idLa = computed(function () {\n      return store.state.lang.curLang;\n    });\n    var cLang = ref(idLa.value === 'fr' ? fr : en);\n    watch(idLa, function (newLang) {\n      cLang.value = newLang === 'fr' ? fr : en;\n    });\n    return {\n      courses: [],\n      matricule: '',\n      showModal: false,\n      li: li,\n      ToShow: ToShow,\n      cLang: cLang\n    };\n  },\n  methods: {\n    showDetailsHandler: function showDetailsHandler(courseName) {\n      // Enregistrer le nom du cours dans les cookies\n      Cookies.set('selectedCourse', courseName);\n      // Rediriger vers la page DetailsCours\n      this.$router.push({\n        name: 'DetailsCours'\n      });\n    },\n    hideDetail: function hideDetail() {\n      // Méthode pour cacher la fenêtre modale de détails\n      this.showDetailModal = false;\n    },\n    extractNumberBeforeAt: function extractNumberBeforeAt(email) {\n      var atIndex = email.indexOf('@');\n      if (atIndex !== -1) {\n        return email.substring(0, atIndex);\n      } else {\n        return null;\n      }\n    },\n    getCourses: function getCourses() {\n      var _this = this;\n      var email = Cookies.get('emailProfesseur');\n      var password = Cookies.get('passwordProfesseur');\n      if (!email || !password) {\n        // Gérer le cas où les cookies ne sont pas présents\n        return;\n      }\n      var login = {\n        email: email,\n        password: password\n      };\n      this.matricule = this.extractNumberBeforeAt(login.email);\n      Cookies.set('matriculeProfesseur', this.matricule);\n      axios.post(\"http://localhost:1937/api/professeurs/courses\", {\n        email: Cookies.get('emailProfesseur'),\n        password: Cookies.get('passwordProfesseur')\n      }).then(function (response) {\n        // Supposons que la réponse contienne un tableau de cours\n        var courses = response.data;\n        _this.courses = courses;\n      })[\"catch\"](function (error) {\n        console.error(error);\n        // Gérer les erreurs de requête\n      });\n    }\n  },\n  created: function created() {\n    this.getCourses();\n  }\n};","map":{"version":3,"names":["ItemCours","ItemAdd","TopProf","ListCoursAdd","useStore","computed","watch","ref","fr","en","axios","Cookies","components","data","li","modalIsOpen","ToShow","tri","value","store","idLa","state","lang","curLang","cLang","newLang","courses","matricule","showModal","methods","showDetailsHandler","courseName","set","$router","push","name","hideDetail","showDetailModal","extractNumberBeforeAt","email","atIndex","indexOf","substring","getCourses","_this","get","password","login","post","then","response","error","console","created"],"sources":["C:\\Users\\trist\\Desktop\\projet-gl-main\\frontend\\src\\components\\everyone\\HomeProf.vue"],"sourcesContent":["<template>\n    <TopProf/>\n    <div class=\"container\">\n    <ItemAdd class=\"add\" @click=\"() => ToShow('modalIsOpen')\" :word=\"cLang.AddCours.title\" />\n\n      <div class=\"place\" :style=\"{pointerEvents: modalIsOpen ? 'none' : 'auto'}\">\n        <ItemCours v-for=\"(cours, index) in courses\" :word=\"cours\" :key=\"index\" :role=\"role\" :get-courses=\"getCourses\" @show-details=\"showDetailsHandler\" />\n      </div>\n    </div>\n\n    <ListCoursAdd v-if=\"li.modalIsOpen\" :ToShow=\"() => ToShow('modalIsOpen')\" />\n</template>\n\n<script>\nimport ItemCours from '../../elements/ItemCours.vue';\nimport ItemAdd from '../../elements/ItemAdd.vue';\nimport TopProf from '../../elements/TopProf.vue';\nimport ListCoursAdd from '../../popup/ListCoursAdd.vue';\nimport { useStore } from 'vuex';\nimport { computed, watch, ref } from 'vue';\nimport fr from '../../views/fr.js';\nimport en from '../../views/en.js';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\n\nexport default {\n  components: { ItemCours, TopProf, ItemAdd, ListCoursAdd },\n  data() {\n    const li = ref({\n      modalIsOpen: false\n    });\n\n    const ToShow = (tri) => {\n      li.value[tri] = !li.value[tri];\n    };\n\n    const store = useStore();\n    const idLa = computed(() => store.state.lang.curLang);\n    const cLang = ref(idLa.value === 'fr' ? fr : en);\n\n    watch(idLa, (newLang) => {\n      cLang.value = newLang === 'fr' ? fr : en;\n    });\n\n    return {\n      courses: [],\n      matricule: '',\n      showModal: false,\n      li,\n      ToShow,\n      cLang\n    };\n  },\n  methods: {\n    showDetailsHandler(courseName) {\n      // Enregistrer le nom du cours dans les cookies\n      Cookies.set('selectedCourse', courseName);\n      // Rediriger vers la page DetailsCours\n      this.$router.push({ name: 'DetailsCours' });\n    },\n    hideDetail() {\n      // Méthode pour cacher la fenêtre modale de détails\n      this.showDetailModal = false;\n    },\n    extractNumberBeforeAt(email) {\n      const atIndex = email.indexOf('@');\n      if (atIndex !== -1) {\n        return email.substring(0, atIndex);\n      } else {\n        return null;\n      }\n    },\n    getCourses() {\n      const email = Cookies.get('emailProfesseur');\n      const password = Cookies.get('passwordProfesseur');\n      if (!email || !password) {\n        // Gérer le cas où les cookies ne sont pas présents\n        return;\n      }\n      const login = {\n        email: email,\n        password: password\n      };\n      this.matricule = this.extractNumberBeforeAt(login.email);\n      Cookies.set('matriculeProfesseur', this.matricule);\n      axios.post(`http://localhost:1937/api/professeurs/courses`, {\n        email: Cookies.get('emailProfesseur'),\n        password: Cookies.get('passwordProfesseur')\n      })\n          .then(response => {\n            // Supposons que la réponse contienne un tableau de cours\n            const courses = response.data;\n            this.courses = courses;\n          })\n          .catch(error => {\n            console.error(error);\n            // Gérer les erreurs de requête\n          });\n\n    },\n  },\n  created() {\n    this.getCourses();\n  }\n}\n</script>\n\n\n<style scoped>\n.container {\n    position: absolute;\n    width: 100rem; \n    height: 54rem; \n    bottom: 0.1rem; \n    /*border: 3px solid rgb(6, 148, 37); /* Bordure de la zone conteneur */\n}\n\n.place {\n    position: absolute;\n    top: 7rem;\n    left: 10rem;\n}\n\n.add {\n  position: absolute;\n  top: 3rem;\n  left: 3rem;\n  margin-bottom: 20px;\n}\n\n</style>\n"],"mappings":";;AAcA,OAAOA,SAAQ,MAAO,8BAA8B;AACpD,OAAOC,OAAM,MAAO,4BAA4B;AAChD,OAAOC,OAAM,MAAO,4BAA4B;AAChD,OAAOC,YAAW,MAAO,8BAA8B;AACvD,SAASC,QAAO,QAAS,MAAM;AAC/B,SAASC,QAAQ,EAAEC,KAAK,EAAEC,GAAE,QAAS,KAAK;AAC1C,OAAOC,EAAC,MAAO,mBAAmB;AAClC,OAAOC,EAAC,MAAO,mBAAmB;AAClC,OAAOC,KAAI,MAAO,OAAO;AACzB,OAAOC,OAAM,MAAO,WAAW;AAE/B,eAAe;EACbC,UAAU,EAAE;IAAEZ,SAAS,EAATA,SAAS;IAAEE,OAAO,EAAPA,OAAO;IAAED,OAAO,EAAPA,OAAO;IAAEE,YAAW,EAAXA;EAAa,CAAC;EACzDU,IAAI,WAAAA,KAAA,EAAG;IACL,IAAMC,EAAC,GAAIP,GAAG,CAAC;MACbQ,WAAW,EAAE;IACf,CAAC,CAAC;IAEF,IAAMC,MAAK,GAAI,SAATA,MAAKA,CAAKC,GAAG,EAAK;MACtBH,EAAE,CAACI,KAAK,CAACD,GAAG,IAAI,CAACH,EAAE,CAACI,KAAK,CAACD,GAAG,CAAC;IAChC,CAAC;IAED,IAAME,KAAI,GAAIf,QAAQ,CAAC,CAAC;IACxB,IAAMgB,IAAG,GAAIf,QAAQ,CAAC;MAAA,OAAMc,KAAK,CAACE,KAAK,CAACC,IAAI,CAACC,OAAO;IAAA,EAAC;IACrD,IAAMC,KAAI,GAAIjB,GAAG,CAACa,IAAI,CAACF,KAAI,KAAM,IAAG,GAAIV,EAAC,GAAIC,EAAE,CAAC;IAEhDH,KAAK,CAACc,IAAI,EAAE,UAACK,OAAO,EAAK;MACvBD,KAAK,CAACN,KAAI,GAAIO,OAAM,KAAM,IAAG,GAAIjB,EAAC,GAAIC,EAAE;IAC1C,CAAC,CAAC;IAEF,OAAO;MACLiB,OAAO,EAAE,EAAE;MACXC,SAAS,EAAE,EAAE;MACbC,SAAS,EAAE,KAAK;MAChBd,EAAE,EAAFA,EAAE;MACFE,MAAM,EAANA,MAAM;MACNQ,KAAI,EAAJA;IACF,CAAC;EACH,CAAC;EACDK,OAAO,EAAE;IACPC,kBAAkB,WAAAA,mBAACC,UAAU,EAAE;MAC7B;MACApB,OAAO,CAACqB,GAAG,CAAC,gBAAgB,EAAED,UAAU,CAAC;MACzC;MACA,IAAI,CAACE,OAAO,CAACC,IAAI,CAAC;QAAEC,IAAI,EAAE;MAAe,CAAC,CAAC;IAC7C,CAAC;IACDC,UAAU,WAAAA,WAAA,EAAG;MACX;MACA,IAAI,CAACC,eAAc,GAAI,KAAK;IAC9B,CAAC;IACDC,qBAAqB,WAAAA,sBAACC,KAAK,EAAE;MAC3B,IAAMC,OAAM,GAAID,KAAK,CAACE,OAAO,CAAC,GAAG,CAAC;MAClC,IAAID,OAAM,KAAM,CAAC,CAAC,EAAE;QAClB,OAAOD,KAAK,CAACG,SAAS,CAAC,CAAC,EAAEF,OAAO,CAAC;MACpC,OAAO;QACL,OAAO,IAAI;MACb;IACF,CAAC;IACDG,UAAU,WAAAA,WAAA,EAAG;MAAA,IAAAC,KAAA;MACX,IAAML,KAAI,GAAI5B,OAAO,CAACkC,GAAG,CAAC,iBAAiB,CAAC;MAC5C,IAAMC,QAAO,GAAInC,OAAO,CAACkC,GAAG,CAAC,oBAAoB,CAAC;MAClD,IAAI,CAACN,KAAI,IAAK,CAACO,QAAQ,EAAE;QACvB;QACA;MACF;MACA,IAAMC,KAAI,GAAI;QACZR,KAAK,EAAEA,KAAK;QACZO,QAAQ,EAAEA;MACZ,CAAC;MACD,IAAI,CAACnB,SAAQ,GAAI,IAAI,CAACW,qBAAqB,CAACS,KAAK,CAACR,KAAK,CAAC;MACxD5B,OAAO,CAACqB,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAACL,SAAS,CAAC;MAClDjB,KAAK,CAACsC,IAAI,kDAAkD;QAC1DT,KAAK,EAAE5B,OAAO,CAACkC,GAAG,CAAC,iBAAiB,CAAC;QACrCC,QAAQ,EAAEnC,OAAO,CAACkC,GAAG,CAAC,oBAAoB;MAC5C,CAAC,EACII,IAAI,CAAC,UAAAC,QAAO,EAAK;QAChB;QACA,IAAMxB,OAAM,GAAIwB,QAAQ,CAACrC,IAAI;QAC7B+B,KAAI,CAAClB,OAAM,GAAIA,OAAO;MACxB,CAAC,UACK,CAAC,UAAAyB,KAAI,EAAK;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;QACpB;MACF,CAAC,CAAC;IAER;EACF,CAAC;EACDE,OAAO,WAAAA,QAAA,EAAG;IACR,IAAI,CAACV,UAAU,CAAC,CAAC;EACnB;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}