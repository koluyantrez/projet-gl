{"ast":null,"code":"import \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport ItemAdd from '../elements/ItemAdd.vue';\nimport CirclePlus from '../elements/CirclePlus.vue';\nimport { useStore } from 'vuex';\nimport { computed, watch, ref, onMounted } from 'vue';\nimport fr from '../views/fr.js';\nimport en from '../views/en.js';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nexport default {\n  components: {\n    ItemAdd: ItemAdd,\n    CirclePlus: CirclePlus\n  },\n  props: ['ToShow'],\n  data: function data() {\n    var store = useStore();\n    var idLa = computed(function () {\n      return store.state.lang.curLang;\n    });\n    var cLang = ref(idLa.value === 'fr' ? fr : en);\n    watch(idLa, function (newLang) {\n      cLang.value = newLang === 'fr' ? fr : en;\n    });\n    return {\n      cLang: cLang,\n      availableCourses: []\n    };\n  },\n  methods: {\n    showCourseSelection: function showCourseSelection() {\n      var _this = this;\n      axios.get('http://localhost:1937/api/cours/All').then(function (response) {\n        var courses = response.data;\n        _this.availableCourses = courses.map(function (cours) {\n          return cours.name;\n        });\n      })[\"catch\"](function (error) {\n        console.error(error);\n      });\n    },\n    addCourse: function addCourse(cours) {\n      var _this2 = this;\n      var id = Cookies.get('matriculeProfesseur');\n      var coursName = cours;\n      axios.post(\"http://localhost:1937/assign-course\".concat(id), null, {\n        params: {\n          coursName: coursName\n        }\n      }).then(function (response) {\n        var result = response.data;\n        if (result === 'attribute success') {\n          _this2.getCourses();\n          _this2.hideCourseSelection();\n          alert(\"attribute success\");\n        }\n      })[\"catch\"](function (error) {\n        console.error(error);\n      });\n    }\n  },\n  created: function created() {\n    this.showCourseSelection();\n  }\n};","map":{"version":3,"names":["ItemAdd","CirclePlus","useStore","computed","watch","ref","onMounted","fr","en","axios","Cookies","components","props","data","store","idLa","state","lang","curLang","cLang","value","newLang","availableCourses","methods","showCourseSelection","_this","get","then","response","courses","map","cours","name","error","console","addCourse","_this2","id","coursName","post","concat","params","result","getCourses","hideCourseSelection","alert","created"],"sources":["C:\\Users\\trist\\Desktop\\projet-gl-main\\frontend\\src\\popup\\ListCoursAdd.vue"],"sourcesContent":["<template>\n    <div class=\"popup\">\n        <div class=\"inner\">\n            <div class=\"course-list\">\n                <ul class=\"course-scroll\">\n                    <li v-for=\"(cours, index) in availableCourses\" :key=\"index\" class=\"course-item\">\n                        <div class=\"course-item-content\">\n                            <CirclePlus @click=\"addCourse(cours)\"/>\n                            <span>{{ cours }}</span>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n            <ItemAdd class=\"back\" :word=\"cLang.pw.back\" @click=\"ToShow()\" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport ItemAdd from '../elements/ItemAdd.vue';\nimport CirclePlus from '../elements/CirclePlus.vue';\nimport { useStore } from 'vuex';\nimport { computed, watch, ref, onMounted } from 'vue';\nimport fr from '../views/fr.js';\nimport en from '../views/en.js';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\n\nexport default {\n  components: { ItemAdd, CirclePlus },\n  props: ['ToShow'],\n\n  data() {\n    const store = useStore();\n    const idLa = computed(() => store.state.lang.curLang);\n    const cLang = ref(idLa.value === 'fr' ? fr : en);\n\n    watch(idLa, (newLang) => {\n      cLang.value = newLang === 'fr' ? fr : en;\n    });\n\n    return {\n      cLang,\n      availableCourses: [],\n    };\n  },\n  methods: {\n    showCourseSelection() {\n      axios.get('http://localhost:1937/api/cours/All')\n        .then(response => {\n          const courses = response.data;\n          this.availableCourses = courses.map(cours => cours.name);\n        })\n        .catch(error => {\n          console.error(error);\n        });\n    },\n    addCourse(cours) {\n      const id = Cookies.get('matriculeProfesseur');\n      const coursName = cours;\n\n      axios.post(`http://localhost:1937/assign-course${id}`, null, {\n        params: {\n          coursName: coursName\n        }\n      })\n      .then(response => {\n        const result = response.data;\n        if (result === 'attribute success') {\n          this.getCourses();\n          this.hideCourseSelection();\n          alert(\"attribute success\");\n        }\n      })\n      .catch(error => {\n        console.error(error);\n      });\n    },\n  },\n  created() {\n    this.showCourseSelection();\n  }\n}\n</script>\n\n<style scoped>\n\n.back{\n    position: relative;\n    bottom: -1rem;\n    left: 8rem;\n}\n\n.popup {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 99;\n}\n\n.inner {\n  position: relative;\n  background: #fff;\n  padding: 39px;\n  border-radius: 10%;\n}\n\n.course-list {\n  height: 16rem;\n  width: 25rem;\n  overflow-y: auto;\n}\n\n.course-scroll {\n  padding: 0;\n  margin: 0;\n  color: #9e0b17;\n}\n\n.course-item {\n  font-size: 20px;\n  font-family: Roboto, sans-serif;\n  color: #9e0b17;\n}\n\n.course-item-content {\n  display: flex;\n  align-items: center;\n}\n\n.course-item-content span {\n  margin-left: 10px;\n}\n</style>\n"],"mappings":";;AAmBA,OAAOA,OAAM,MAAO,yBAAyB;AAC7C,OAAOC,UAAS,MAAO,4BAA4B;AACnD,SAASC,QAAO,QAAS,MAAM;AAC/B,SAASC,QAAQ,EAAEC,KAAK,EAAEC,GAAG,EAAEC,SAAQ,QAAS,KAAK;AACrD,OAAOC,EAAC,MAAO,gBAAgB;AAC/B,OAAOC,EAAC,MAAO,gBAAgB;AAC/B,OAAOC,KAAI,MAAO,OAAO;AACzB,OAAOC,OAAM,MAAO,WAAW;AAE/B,eAAe;EACbC,UAAU,EAAE;IAAEX,OAAO,EAAPA,OAAO;IAAEC,UAAS,EAATA;EAAW,CAAC;EACnCW,KAAK,EAAE,CAAC,QAAQ,CAAC;EAEjBC,IAAI,WAAAA,KAAA,EAAG;IACL,IAAMC,KAAI,GAAIZ,QAAQ,CAAC,CAAC;IACxB,IAAMa,IAAG,GAAIZ,QAAQ,CAAC;MAAA,OAAMW,KAAK,CAACE,KAAK,CAACC,IAAI,CAACC,OAAO;IAAA,EAAC;IACrD,IAAMC,KAAI,GAAId,GAAG,CAACU,IAAI,CAACK,KAAI,KAAM,IAAG,GAAIb,EAAC,GAAIC,EAAE,CAAC;IAEhDJ,KAAK,CAACW,IAAI,EAAE,UAACM,OAAO,EAAK;MACvBF,KAAK,CAACC,KAAI,GAAIC,OAAM,KAAM,IAAG,GAAId,EAAC,GAAIC,EAAE;IAC1C,CAAC,CAAC;IAEF,OAAO;MACLW,KAAK,EAALA,KAAK;MACLG,gBAAgB,EAAE;IACpB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,mBAAmB,WAAAA,oBAAA,EAAG;MAAA,IAAAC,KAAA;MACpBhB,KAAK,CAACiB,GAAG,CAAC,qCAAqC,EAC5CC,IAAI,CAAC,UAAAC,QAAO,EAAK;QAChB,IAAMC,OAAM,GAAID,QAAQ,CAACf,IAAI;QAC7BY,KAAI,CAACH,gBAAe,GAAIO,OAAO,CAACC,GAAG,CAAC,UAAAC,KAAI;UAAA,OAAKA,KAAK,CAACC,IAAI;QAAA,EAAC;MAC1D,CAAC,UACK,CAAC,UAAAC,KAAI,EAAK;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IACN,CAAC;IACDE,SAAS,WAAAA,UAACJ,KAAK,EAAE;MAAA,IAAAK,MAAA;MACf,IAAMC,EAAC,GAAI3B,OAAO,CAACgB,GAAG,CAAC,qBAAqB,CAAC;MAC7C,IAAMY,SAAQ,GAAIP,KAAK;MAEvBtB,KAAK,CAAC8B,IAAI,uCAAAC,MAAA,CAAuCH,EAAE,GAAI,IAAI,EAAE;QAC3DI,MAAM,EAAE;UACNH,SAAS,EAAEA;QACb;MACF,CAAC,EACAX,IAAI,CAAC,UAAAC,QAAO,EAAK;QAChB,IAAMc,MAAK,GAAId,QAAQ,CAACf,IAAI;QAC5B,IAAI6B,MAAK,KAAM,mBAAmB,EAAE;UAClCN,MAAI,CAACO,UAAU,CAAC,CAAC;UACjBP,MAAI,CAACQ,mBAAmB,CAAC,CAAC;UAC1BC,KAAK,CAAC,mBAAmB,CAAC;QAC5B;MACF,CAAC,UACK,CAAC,UAAAZ,KAAI,EAAK;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IACJ;EACF,CAAC;EACDa,OAAO,WAAAA,QAAA,EAAG;IACR,IAAI,CAACtB,mBAAmB,CAAC,CAAC;EAC5B;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}