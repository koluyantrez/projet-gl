{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport ItemAdd from \"@/elements/ItemAdd.vue\";\nimport axios from \"axios\";\nexport default {\n  components: {\n    ItemAdd: ItemAdd\n  },\n  props: {\n    request: Object,\n    show: Boolean\n  },\n  methods: {\n    acceptRequest: function acceptRequest() {\n      var _this = this;\n      axios.post(\"http://localhost:1937/secretariat/approve/\".concat(this.request.id)).then(function () {\n        _this.createStudent();\n        _this.$emit('accept', _this.request);\n        _this.deleteRequest();\n      })[\"catch\"](function (error) {\n        console.error(error);\n      });\n    },\n    rejectRequest: function rejectRequest() {\n      var _this2 = this;\n      axios.post(\"http://localhost:1937/secretariat/reject/\".concat(this.request.id)).then(function () {\n        _this2.$emit('reject', _this2.request);\n        _this2.deleteRequest();\n      })[\"catch\"](function (error) {\n        console.error(error);\n      });\n    },\n    deleteRequest: function deleteRequest() {\n      var _this3 = this;\n      axios[\"delete\"](\"http://localhost:1937/api/guest/signup/\".concat(this.request.id)).then(function () {\n        _this3.$emit('delete', _this3.request);\n      })[\"catch\"](function (error) {\n        console.error(error);\n      });\n    },\n    createStudent: function createStudent() {\n      var student = {\n        lastName: this.request.name,\n        firstName: this.request.firstName,\n        name: this.request.name + \" \" + this.request.firstName,\n        //birthDate: this.request.birthDate,\n        adresse: this.request.address,\n        //city: this.request.city,\n        numero: this.request.phone,\n        departement: this.request.filial,\n        annee: 1,\n        inscrit: true\n      };\n      axios.post('http://localhost:1937/api/students', student).then(function () {\n        console.log(\"Student created\");\n      })[\"catch\"](function (error) {\n        console.error(error);\n      });\n    },\n    closePopup: function closePopup() {\n      this.$emit('close');\n    }\n  }\n};","map":{"version":3,"names":["ItemAdd","axios","components","props","request","Object","show","Boolean","methods","acceptRequest","_this","post","concat","id","then","createStudent","$emit","deleteRequest","error","console","rejectRequest","_this2","_this3","student","lastName","name","firstName","adresse","address","numero","phone","departement","filial","annee","inscrit","log","closePopup"],"sources":["C:\\Users\\trist\\Desktop\\projet-gl-main\\frontend\\src\\popup\\Request.vue"],"sourcesContent":["<template>\n  <div class=\"popup\">\n    <div class=\"inner\">\n      <h3>Request Details</h3>\n      <p><strong>Name:</strong> {{ request.name }}</p>\n      <p><strong>First Name:</strong> {{ request.firstName }}</p>\n      <p><strong>Birth Date:</strong> {{ request.birthDate }}</p>\n      <p><strong>Address:</strong> {{ request.address }}</p>\n      <p><strong>City:</strong> {{ request.city }}</p>\n      <p><strong>Phone:</strong> {{ request.phone }}</p>\n      <p><strong>Filial:</strong> {{ request.filial }}</p>\n      <ItemAdd word=\"Accept\" @click=\"acceptRequest\"/>\n      <ItemAdd word=\"Reject\" @click=\"rejectRequest\"/>\n      <ItemAdd word=\"Delete\" @click=\"deleteRequest\"/>\n      <ItemAdd word=\"Close\" @click=\"closePopup\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ItemAdd from \"@/elements/ItemAdd.vue\";\nimport axios from \"axios\";\n\nexport default {\n  components: {ItemAdd},\n  props: {\n    request: Object,\n    show: Boolean\n  },\n  methods: {\n    acceptRequest() {\n      axios.post(`http://localhost:1937/secretariat/approve/${this.request.id}`)\n          .then(() => {\n            this.createStudent();\n            this.$emit('accept', this.request);\n            this.deleteRequest()\n          })\n          .catch((error) => {\n            console.error(error);\n          });\n    },\n    rejectRequest() {\n      axios.post(`http://localhost:1937/secretariat/reject/${this.request.id}`)\n          .then(() => {\n            this.$emit('reject', this.request);\n            this.deleteRequest()\n          })\n          .catch((error) => {\n            console.error(error);\n          });    },\n\n    deleteRequest() {\n      axios.delete(`http://localhost:1937/api/guest/signup/${this.request.id}`)\n          .then(() => {\n            this.$emit('delete', this.request);\n          })\n          .catch((error) => {\n            console.error(error);\n          });\n    },\n\n    createStudent() {\n      const student = {\n        lastName: this.request.name,\n        firstName: this.request.firstName,\n        name : this.request.name + \" \" + this.request.firstName,\n        //birthDate: this.request.birthDate,\n        adresse: this.request.address,\n        //city: this.request.city,\n        numero: this.request.phone,\n        departement: this.request.filial,\n        annee:1,\n        inscrit: true\n\n      };\n      axios.post('http://localhost:1937/api/students', student)\n          .then(() => {\n            console.log(\"Student created\");\n          })\n          .catch((error) => {\n            console.error(error);\n          });\n    },\n\n    closePopup() {\n      this.$emit('close');\n    }\n  }\n};\n</script>\n\n<style scoped>\n.popup {\n  position: fixed;\n  top: 0px;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n  z-index: 99;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.inner {\n  position: relative;\n  background: rgb(255, 255, 255);\n  padding: 39px;\n  border-radius: 10%;\n  font-family: 'Arial', sans-serif;\n}\n\n\n</style>"],"mappings":";AAoBA,OAAOA,OAAM,MAAO,wBAAwB;AAC5C,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,UAAU,EAAE;IAACF,OAAO,EAAPA;EAAO,CAAC;EACrBG,KAAK,EAAE;IACLC,OAAO,EAAEC,MAAM;IACfC,IAAI,EAAEC;EACR,CAAC;EACDC,OAAO,EAAE;IACPC,aAAa,WAAAA,cAAA,EAAG;MAAA,IAAAC,KAAA;MACdT,KAAK,CAACU,IAAI,8CAAAC,MAAA,CAA8C,IAAI,CAACR,OAAO,CAACS,EAAE,CAAE,EACpEC,IAAI,CAAC,YAAM;QACVJ,KAAI,CAACK,aAAa,CAAC,CAAC;QACpBL,KAAI,CAACM,KAAK,CAAC,QAAQ,EAAEN,KAAI,CAACN,OAAO,CAAC;QAClCM,KAAI,CAACO,aAAa,CAAC;MACrB,CAAC,UACK,CAAC,UAACC,KAAK,EAAK;QAChBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IACR,CAAC;IACDE,aAAa,WAAAA,cAAA,EAAG;MAAA,IAAAC,MAAA;MACdpB,KAAK,CAACU,IAAI,6CAAAC,MAAA,CAA6C,IAAI,CAACR,OAAO,CAACS,EAAE,CAAE,EACnEC,IAAI,CAAC,YAAM;QACVO,MAAI,CAACL,KAAK,CAAC,QAAQ,EAAEK,MAAI,CAACjB,OAAO,CAAC;QAClCiB,MAAI,CAACJ,aAAa,CAAC;MACrB,CAAC,UACK,CAAC,UAACC,KAAK,EAAK;QAChBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IAAK,CAAC;IAEdD,aAAa,WAAAA,cAAA,EAAG;MAAA,IAAAK,MAAA;MACdrB,KAAK,UAAO,2CAAAW,MAAA,CAA2C,IAAI,CAACR,OAAO,CAACS,EAAE,CAAE,EACnEC,IAAI,CAAC,YAAM;QACVQ,MAAI,CAACN,KAAK,CAAC,QAAQ,EAAEM,MAAI,CAAClB,OAAO,CAAC;MACpC,CAAC,UACK,CAAC,UAACc,KAAK,EAAK;QAChBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IACR,CAAC;IAEDH,aAAa,WAAAA,cAAA,EAAG;MACd,IAAMQ,OAAM,GAAI;QACdC,QAAQ,EAAE,IAAI,CAACpB,OAAO,CAACqB,IAAI;QAC3BC,SAAS,EAAE,IAAI,CAACtB,OAAO,CAACsB,SAAS;QACjCD,IAAG,EAAI,IAAI,CAACrB,OAAO,CAACqB,IAAG,GAAI,GAAE,GAAI,IAAI,CAACrB,OAAO,CAACsB,SAAS;QACvD;QACAC,OAAO,EAAE,IAAI,CAACvB,OAAO,CAACwB,OAAO;QAC7B;QACAC,MAAM,EAAE,IAAI,CAACzB,OAAO,CAAC0B,KAAK;QAC1BC,WAAW,EAAE,IAAI,CAAC3B,OAAO,CAAC4B,MAAM;QAChCC,KAAK,EAAC,CAAC;QACPC,OAAO,EAAE;MAEX,CAAC;MACDjC,KAAK,CAACU,IAAI,CAAC,oCAAoC,EAAEY,OAAO,EACnDT,IAAI,CAAC,YAAM;QACVK,OAAO,CAACgB,GAAG,CAAC,iBAAiB,CAAC;MAChC,CAAC,UACK,CAAC,UAACjB,KAAK,EAAK;QAChBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IACR,CAAC;IAEDkB,UAAU,WAAAA,WAAA,EAAG;MACX,IAAI,CAACpB,KAAK,CAAC,OAAO,CAAC;IACrB;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}