{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-4eff99aa\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"b\"\n};\nvar _hoisted_2 = {\n  \"class\": \"info\"\n};\nvar _hoisted_3 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\n});\nvar _hoisted_4 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_TopStudent = _resolveComponent(\"TopStudent\");\n  var _component_ItemButton = _resolveComponent(\"ItemButton\");\n  var _component_router_link = _resolveComponent(\"router-link\");\n  var _component_YesOrNo = _resolveComponent(\"YesOrNo\");\n  var _component_ModifPro = _resolveComponent(\"ModifPro\");\n  var _component_PassWord = _resolveComponent(\"PassWord\");\n  var _component_DropImg = _resolveComponent(\"DropImg\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_TopStudent), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_ItemButton, {\n    name: $setup.cLang.Profile.unsi,\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $setup.ToUnsubPopup('buTriUnsub');\n    })\n  }, null, 8 /* PROPS */, [\"name\"]), _createVNode(_component_ItemButton, {\n    name: \"Photo\",\n    onClick: _cache[1] || (_cache[1] = function () {\n      return $setup.ToPicPopup('buPic');\n    })\n  }), _createVNode(_component_ItemButton, {\n    name: $setup.cLang.Profile.edit,\n    onClick: _cache[2] || (_cache[2] = function () {\n      return $setup.ToModPopup('buTriMod');\n    })\n  }, null, 8 /* PROPS */, [\"name\"]), _createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_ItemButton, {\n        name: $setup.cLang.Profile.logout\n      }, null, 8 /* PROPS */, [\"name\"])];\n    }),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_ItemButton, {\n    name: $setup.cLang.Profile.pw,\n    onClick: _cache[3] || (_cache[3] = function () {\n      return $setup.ToPassPopup('buPass');\n    })\n  }, null, 8 /* PROPS */, [\"name\"]), _createVNode(_component_ItemButton, {\n    name: \"PAE\"\n  })]), $setup.popupUnsub.buTriUnsub ? (_openBlock(), _createBlock(_component_YesOrNo, {\n    key: 0,\n    ToUnsubPopup: function ToUnsubPopup() {\n      return $setup.ToUnsubPopup('buTriUnsub');\n    }\n  }, null, 8 /* PROPS */, [\"ToUnsubPopup\"])) : _createCommentVNode(\"v-if\", true), $setup.popupMod.buTriMod ? (_openBlock(), _createBlock(_component_ModifPro, {\n    key: 1,\n    ToModPopup: function ToModPopup() {\n      return $setup.ToModPopup('buTriMod');\n    }\n  }, null, 8 /* PROPS */, [\"ToModPopup\"])) : _createCommentVNode(\"v-if\", true), $setup.pwMod.buPass ? (_openBlock(), _createBlock(_component_PassWord, {\n    key: 2,\n    ToPassPopup: function ToPassPopup() {\n      return $setup.ToPassPopup('buPass');\n    }\n  }, null, 8 /* PROPS */, [\"ToPassPopup\"])) : _createCommentVNode(\"v-if\", true), $setup.AddPic.buPic ? (_openBlock(), _createBlock(_component_DropImg, {\n    key: 3,\n    ToPicPopup: function ToPicPopup() {\n      return $setup.ToPicPopup('buPic');\n    }\n  }, null, 8 /* PROPS */, [\"ToPicPopup\"])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"p\", null, [_createElementVNode(\"h1\", null, _toDisplayString($setup.studentInfo.name), 1 /* TEXT */)]), _createElementVNode(\"p\", null, _toDisplayString($setup.studentInfo.email), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($setup.studentInfo.dep) + \"/\" + _toDisplayString($setup.studentInfo.fili), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($setup.studentInfo.adresse), 1 /* TEXT */), _createElementVNode(\"p\", null, \"+\" + _toDisplayString($setup.studentInfo.numero), 1 /* TEXT */)]), _createElementVNode(\"img\", {\n    \"class\": \"photo\",\n    src: $setup.studentInfo.pic\n  }, null, 8 /* PROPS */, _hoisted_4)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","_createElementBlock","_Fragment","_createVNode","_component_TopStudent","_hoisted_1","_component_ItemButton","name","$setup","cLang","Profile","unsi","onClick","_cache","ToUnsubPopup","ToPicPopup","edit","ToModPopup","_component_router_link","to","_withCtx","logout","_","pw","ToPassPopup","popupUnsub","buTriUnsub","_createBlock","_component_YesOrNo","key","_createCommentVNode","popupMod","buTriMod","_component_ModifPro","pwMod","buPass","_component_PassWord","AddPic","buPic","_component_DropImg","_hoisted_2","_hoisted_3","_toDisplayString","studentInfo","email","dep","fili","adresse","numero","src","pic","_hoisted_4"],"sources":["C:\\Users\\trist\\Desktop\\projet-gl-main\\frontend\\src\\components\\everyone\\ProfilStudent.vue"],"sourcesContent":["<template>\n    <TopStudent/>\n    <div class=\"b\">\n      <ItemButton :name=\"cLang.Profile.unsi\" @click=\"() => ToUnsubPopup('buTriUnsub')\" />\n      <ItemButton name=\"Photo\" @click=\"() => ToPicPopup('buPic')\" />\n      <ItemButton :name=\"cLang.Profile.edit\" @click=\"() => ToModPopup('buTriMod')\" />\n      <router-link to=\"/\">\n        <ItemButton :name=\"cLang.Profile.logout\" />\n      </router-link>\n      <ItemButton :name=\"cLang.Profile.pw\" @click=\"() => ToPassPopup('buPass')\" />\n      <ItemButton name=\"PAE\" />\n    </div>\n    <YesOrNo v-if=\"popupUnsub.buTriUnsub\" :ToUnsubPopup=\"() => ToUnsubPopup('buTriUnsub')\" />\n    <ModifPro v-if=\"popupMod.buTriMod\" :ToModPopup=\"() => ToModPopup('buTriMod')\" />\n    <PassWord v-if=\"pwMod.buPass\" :ToPassPopup=\"() => ToPassPopup('buPass')\" />\n    <DropImg v-if=\"AddPic.buPic\" :ToPicPopup=\"() => ToPicPopup('buPic')\" />\n    <div class=\"info\">\n      <br>\n      <p><h1>{{ studentInfo.name }}</h1></p>\n      <p>{{ studentInfo.email }}</p>\n      <p>{{ studentInfo.dep }}/{{ studentInfo.fili }}</p>\n      <p>{{ studentInfo.adresse }}</p>\n      <p>+{{ studentInfo.numero }}</p>\n    </div>\n    <img class=\"photo\" :src=\"studentInfo.pic\"/>\n</template>\n\n<script>\nimport TopStudent from '../../elements/TopStudent.vue';\nimport DropImg from '../../popup/DropImg.vue';\nimport ItemButton from '../../elements/ItemButton.vue';\nimport YesOrNo from '../../popup/YesOrNo.vue';\nimport ModifPro from '../../popup/ModifPro.vue';\nimport PassWord from '../../popup/PassWord.vue';\nimport { useRouter } from 'vue-router';\nimport { computed, watch, ref, onMounted } from 'vue';\nimport axios from 'axios';\nimport fr from '../../views/fr';\nimport en from '../../views/en';\nimport { useStore } from 'vuex';\nimport Cookies from 'js-cookie';\n\n\nexport default {\n  components: { TopStudent, ItemButton, YesOrNo, ModifPro, PassWord, DropImg },\n\n\n  setup() {\n\n    const matricule = ref(Cookies.get('matriculeStudent'));\n    console.log(\"la valeur de matricule \" + matricule.value);\n    const store = useStore();\n    const idLa = computed(() => store.state.lang.curLang);\n    const cLang = ref(idLa.value === 'fr' ? fr : en);\n\n    watch(idLa, (newLang) => {\n      cLang.value = newLang === 'fr' ? fr : en;\n    });\n\n    const AddPic = ref({\n      buPic: false\n    });\n    const ToPicPopup = (tri) => {\n      AddPic.value[tri] = !AddPic.value[tri];\n    };\n\n    const popupUnsub = ref({\n      buTriUnsub: false\n    });\n    const ToUnsubPopup = (tri1) => {\n      popupUnsub.value[tri1] = !popupUnsub.value[tri1];\n    };\n\n    const popupMod = ref({\n      buTriMod: false\n    });\n    const ToModPopup = (tri2) => {\n      popupMod.value[tri2] = !popupMod.value[tri2];\n    };\n\n    const pwMod = ref({\n      buPass: false\n    });\n    const ToPassPopup = (tri3) => {\n      pwMod.value[tri3] = !pwMod.value[tri3];\n    };\n\n    const studentInfo = ref({\n      name: '',\n      adresse: '',\n      numero: '',\n      email: '',\n      dep: '',\n      fili: '',\n      pic: null\n    });\n\n    const router = useRouter();\n    //const matricule = ref(router.currentRoute.value.query.matricule);\n\n    const fetchStudentInfo = async () => {\n      try {\n        const response = await axios.get('http://localhost:1937/students/findById', {\n          params: {\n            matricule: matricule.value\n          }\n        });\n        const studentData = response.data;\n        console.log(response.data);\n        studentInfo.value.name = studentData.name;\n        studentInfo.value.adresse = studentData.adresse;\n        studentInfo.value.numero = studentData.numero;\n        studentInfo.value.email = studentData.email;\n        studentInfo.value.dep = studentData.departement;\n        studentInfo.value.fili = studentData.filiere;\n        studentInfo.value.pic = `data:image/jpeg;base64,${studentData.image}`;\n      } catch (error) {\n        console.error('Error fetching student info:', error);\n      }\n    };\n\n    onMounted(() => {\n      fetchStudentInfo();\n    });\n\n    return {\n      cLang,\n      AddPic,\n      ToPicPopup,\n      popupUnsub,\n      ToUnsubPopup,\n      popupMod,\n      ToModPopup,\n      pwMod,\n      ToPassPopup,\n      studentInfo\n    };\n  }\n}\n\n\n</script>\n\n<style scoped>\n\n.b {\n  position: absolute;\n  left: 5rem;\n  bottom: 3rem;\n}\n\n\n.info {\n  position: absolute;\n  left: 35rem;\n  top: 0rem;\n  color: rgb(158, 11, 23);\n  font-family: Roboto, sans-serif;\n  font-size: 43px;\n  transform: translateY(20px);\n}\n.photo{\n  position: absolute;\n  left: 5rem;\n  top: 12rem;\n  width: 25rem;\n  height: 25rem;\n}\n</style>\n\n\n<style>\nh1 {\n  color: rgb(158, 11, 23);\n  font-family: Roboto, sans-serif;\n  font-weight: 450;\n  font-size: 100px;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}