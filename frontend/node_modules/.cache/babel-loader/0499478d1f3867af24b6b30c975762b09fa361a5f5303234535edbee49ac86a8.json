{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-2fea3988\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_TopProf = _resolveComponent(\"TopProf\");\n  var _component_ItemAdd = _resolveComponent(\"ItemAdd\");\n  var _component_ItemCours = _resolveComponent(\"ItemCours\");\n  var _component_ListCoursAdd = _resolveComponent(\"ListCoursAdd\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_TopProf), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_ItemAdd, {\n    \"class\": \"add\",\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $data.ToShow('modalIsOpen');\n    }),\n    word: $data.cLang.AddCours.title\n  }, null, 8 /* PROPS */, [\"word\"]), _createElementVNode(\"div\", {\n    \"class\": \"place\",\n    style: _normalizeStyle({\n      pointerEvents: _ctx.modalIsOpen ? 'none' : 'auto'\n    })\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.courses, function (cours, index) {\n    return _openBlock(), _createBlock(_component_ItemCours, {\n      word: cours,\n      key: index,\n      role: _ctx.role,\n      \"get-courses\": $options.getCourses,\n      onShowDetails: $options.showDetailsHandler\n    }, null, 8 /* PROPS */, [\"word\", \"role\", \"get-courses\", \"onShowDetails\"]);\n  }), 128 /* KEYED_FRAGMENT */))], 4 /* STYLE */)]), $data.li.modalIsOpen ? (_openBlock(), _createBlock(_component_ListCoursAdd, {\n    key: 0,\n    ToShow: function ToShow() {\n      return $data.ToShow('modalIsOpen');\n    }\n  }, null, 8 /* PROPS */, [\"ToShow\"])) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementBlock","_Fragment","_createVNode","_component_TopProf","_createElementVNode","_hoisted_1","_component_ItemAdd","onClick","_cache","$data","ToShow","word","cLang","AddCours","title","style","_normalizeStyle","pointerEvents","_ctx","modalIsOpen","_renderList","courses","cours","index","_createBlock","_component_ItemCours","key","role","$options","getCourses","onShowDetails","showDetailsHandler","li","_component_ListCoursAdd","_createCommentVNode"],"sources":["C:\\Users\\trist\\Desktop\\projet-gl-main\\frontend\\src\\components\\everyone\\HomeProf.vue"],"sourcesContent":["<template>\n    <TopProf/>\n    <div class=\"container\">\n    <ItemAdd class=\"add\" @click=\"() => ToShow('modalIsOpen')\" :word=\"cLang.AddCours.title\" />\n\n      <div class=\"place\" :style=\"{pointerEvents: modalIsOpen ? 'none' : 'auto'}\">\n        <ItemCours v-for=\"(cours, index) in courses\" :word=\"cours\" :key=\"index\" :role=\"role\" :get-courses=\"getCourses\" @show-details=\"showDetailsHandler\" />\n      </div>\n    </div>\n\n    <ListCoursAdd v-if=\"li.modalIsOpen\" :ToShow=\"() => ToShow('modalIsOpen')\" />\n</template>\n\n<script>\nimport ItemCours from '../../elements/ItemCours.vue';\nimport ItemAdd from '../../elements/ItemAdd.vue';\nimport TopProf from '../../elements/TopProf.vue';\nimport ListCoursAdd from '../../popup/ListCoursAdd.vue';\nimport { useStore } from 'vuex';\nimport { computed, watch, ref } from 'vue';\nimport fr from '../../views/fr.js';\nimport en from '../../views/en.js';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\n\nexport default {\n  components: { ItemCours, TopProf, ItemAdd, ListCoursAdd },\n  data() {\n    const li = ref({\n      modalIsOpen: false\n    });\n\n    const ToShow = (tri) => {\n      li.value[tri] = !li.value[tri];\n    };\n\n    const store = useStore();\n    const idLa = computed(() => store.state.lang.curLang);\n    const cLang = ref(idLa.value === 'fr' ? fr : en);\n\n    watch(idLa, (newLang) => {\n      cLang.value = newLang === 'fr' ? fr : en;\n    });\n\n    return {\n      courses: [],\n      matricule: '',\n      showModal: false,\n      li,\n      ToShow,\n      cLang\n    };\n  },\n  methods: {\n    showDetailsHandler(courseName) {\n      // Enregistrer le nom du cours dans les cookies\n      Cookies.set('selectedCourse', courseName);\n      // Rediriger vers la page DetailsCours\n      this.$router.push({ name: 'DetailsCours' });\n    },\n    hideDetail() {\n      // Méthode pour cacher la fenêtre modale de détails\n      this.showDetailModal = false;\n    },\n    extractNumberBeforeAt(email) {\n      const atIndex = email.indexOf('@');\n      if (atIndex !== -1) {\n        return email.substring(0, atIndex);\n      } else {\n        return null;\n      }\n    },\n    getCourses() {\n      const email = Cookies.get('emailProfesseur');\n      const password = Cookies.get('passwordProfesseur');\n      if (!email || !password) {\n        // Gérer le cas où les cookies ne sont pas présents\n        return;\n      }\n      const login = {\n        email: email,\n        password: password\n      };\n      this.matricule = this.extractNumberBeforeAt(login.email);\n      Cookies.set('matriculeProfesseur', this.matricule);\n      axios.post(`http://localhost:1937/api/professeurs/courses`, {\n        email: Cookies.get('emailProfesseur'),\n        password: Cookies.get('passwordProfesseur')\n      })\n          .then(response => {\n            // Supposons que la réponse contienne un tableau de cours\n            const courses = response.data;\n            this.courses = courses;\n          })\n          .catch(error => {\n            console.error(error);\n            // Gérer les erreurs de requête\n          });\n\n    },\n  },\n  created() {\n    this.getCourses();\n  }\n}\n</script>\n\n\n<style scoped>\n.container {\n    position: absolute;\n    width: 100rem; \n    height: 54rem; \n    bottom: 0.1rem; \n    /*border: 3px solid rgb(6, 148, 37); /* Bordure de la zone conteneur */\n}\n\n.place {\n    position: absolute;\n    top: 7rem;\n    left: 10rem;\n}\n\n.add {\n  position: absolute;\n  top: 3rem;\n  left: 3rem;\n  margin-bottom: 20px;\n}\n\n</style>\n"],"mappings":";;;;;EAES,SAAM;AAAW;;;;;;uBAF1BA,mBAAA,CAAAC,SAAA,SACIC,YAAA,CAAUC,kBAAA,GACVC,mBAAA,CAMM,OANNC,UAMM,GALNH,YAAA,CAAyFI,kBAAA;IAAhF,SAAM,KAAK;IAAEC,OAAK,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAQC,KAAA,CAAAC,MAAM;IAAA;IAAkBC,IAAI,EAAEF,KAAA,CAAAG,KAAK,CAACC,QAAQ,CAACC;qCAE9EV,mBAAA,CAEM;IAFD,SAAM,OAAO;IAAEW,KAAK,EAL/BC,eAAA;MAAAC,aAAA,EAKiDC,IAAA,CAAAC,WAAW;IAAA;yBACpDnB,mBAAA,CAAoJC,SAAA,QAN5JmB,WAAA,CAM4CX,KAAA,CAAAY,OAAO,EANnD,UAM2BC,KAAK,EAAEC,KAAK;yBAA/BC,YAAA,CAAoJC,oBAAA;MAAtGd,IAAI,EAAEW,KAAK;MAAGI,GAAG,EAAEH,KAAK;MAAGI,IAAI,EAAET,IAAA,CAAAS,IAAI;MAAG,aAAW,EAAEC,QAAA,CAAAC,UAAU;MAAGC,aAAY,EAAEF,QAAA,CAAAG;;qDAI9GtB,KAAA,CAAAuB,EAAE,CAACb,WAAW,I,cAAlCK,YAAA,CAA4ES,uBAAA;IAVhFP,GAAA;IAUyChB,MAAM,WAAAA,OAAA;MAAA,OAAQD,KAAA,CAAAC,MAAM;IAAA;yCAV7DwB,mBAAA,e"},"metadata":{},"sourceType":"module","externalDependencies":[]}