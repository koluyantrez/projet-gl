{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"container\"\n};\nvar _hoisted_2 = {\n  \"class\": \"place\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_TopSec = _resolveComponent(\"TopSec\");\n  var _component_ItemAdd = _resolveComponent(\"ItemAdd\");\n  var _component_ItemSearch = _resolveComponent(\"ItemSearch\");\n  var _component_ItemCours = _resolveComponent(\"ItemCours\");\n  var _component_AddStudent = _resolveComponent(\"AddStudent\");\n  var _component_Request = _resolveComponent(\"Request\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_TopSec), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_ItemAdd, {\n    word: $setup.cLang.Top.addel,\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $setup.ToCreatePopup('buCreate');\n    })\n  }, null, 8 /* PROPS */, [\"word\"]), _createVNode(_component_ItemSearch, {\n    onSearch: $setup.filterRequest\n  }, null, 8 /* PROPS */, [\"onSearch\"]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredRequest, function (request, index) {\n    return _openBlock(), _createBlock(_component_ItemCours, {\n      word: request.name + ' ' + request.firstName,\n      key: index,\n      onClick: function onClick($event) {\n        return $setup.showRequestPopup(request);\n      }\n    }, null, 8 /* PROPS */, [\"word\", \"onClick\"]);\n  }), 128 /* KEYED_FRAGMENT */))])]), $setup.popupCreate.buCreate ? (_openBlock(), _createBlock(_component_AddStudent, {\n    key: 0,\n    ToCreatePopup: function ToCreatePopup() {\n      return $setup.ToCreatePopup('buCreate');\n    }\n  }, null, 8 /* PROPS */, [\"ToCreatePopup\"])) : _createCommentVNode(\"v-if\", true), $setup.showPopup ? (_openBlock(), _createBlock(_component_Request, {\n    key: 1,\n    request: $setup.selectedRequest,\n    onClose: $setup.closeRequestPopup,\n    onAccept: $setup.handleAcceptRequest,\n    onReject: $setup.handleRejectRequest\n  }, null, 8 /* PROPS */, [\"request\", \"onClose\", \"onAccept\", \"onReject\"])) : _createCommentVNode(\"v-if\", true)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementBlock","_Fragment","_createVNode","_component_TopSec","_createElementVNode","_hoisted_1","_hoisted_2","_component_ItemAdd","word","$setup","cLang","Top","addel","onClick","_cache","ToCreatePopup","_component_ItemSearch","onSearch","filterRequest","_renderList","filteredRequest","request","index","_createBlock","_component_ItemCours","name","firstName","key","$event","showRequestPopup","popupCreate","buCreate","_component_AddStudent","_createCommentVNode","showPopup","_component_Request","selectedRequest","onClose","closeRequestPopup","onAccept","handleAcceptRequest","onReject","handleRejectRequest"],"sources":["C:\\Users\\trist\\Desktop\\projet-gl-main\\frontend\\src\\components\\everyone\\HomeInscr.vue"],"sourcesContent":["<template>\n  <TopSec/>\n  <div class=\"container\">\n    <div class=\"place\">\n      <ItemAdd :word=\"cLang.Top.addel\" @click=\"() => ToCreatePopup('buCreate')\"/>\n      <ItemSearch @search=\"filterRequest\"/>\n      <ItemCours v-for=\"(request, index) in filteredRequest\" :word=\"request.name + ' ' + request.firstName\" :key=\"index\" @click=\"showRequestPopup(request)\"/>\n    </div>\n  </div>\n  <AddStudent v-if=\"popupCreate.buCreate\" :ToCreatePopup=\"() => ToCreatePopup('buCreate') \"/>\n  <Request v-if=\"showPopup\" :request=\"selectedRequest\" @close=\"closeRequestPopup\" @accept=\"handleAcceptRequest\" @reject=\"handleRejectRequest\"/>\n</template>\n\n<script>\nimport TopSec from '../../elements/TopSec.vue';\nimport ItemCours from '../../elements/ItemStudent.vue';\nimport ItemSearch from '../../elements/ItemSearch.vue';\nimport ItemAdd from '../../elements/ItemAdd.vue';\nimport AddCours from '../../popup/AddCours.vue';\nimport { useStore } from 'vuex';\nimport { computed, watch, ref, onMounted } from 'vue';\nimport fr from '../../views/fr.js';\nimport en from '../../views/en.js';\nimport axios from \"axios\";\nimport AddStudent from \"@/popup/AddStudent.vue\";\nimport Request from \"@/popup/Request.vue\";\n\nexport default {\n  components: {\n    Request,\n    AddStudent,\n    ItemCours,\n    TopSec,\n    ItemSearch,\n    ItemAdd,\n    AddCours\n  },\n  setup() {\n    const signupRequests = ref([]);\n    const filteredRequest = ref(signupRequests.value);\n    const selectedRequest = ref(null);\n    const showPopup = ref(false);\n\n    const getSignupRequests = () => {\n      axios.get('http://localhost:1937/secretariat/requests')\n          .then((response) => {\n            signupRequests.value = response.data;\n            filteredRequest.value = signupRequests.value;\n          })\n          .catch((error) => {\n            console.error(error);\n          });\n    };\n\n    const filterRequest = (query) => {\n      filteredRequest.value = signupRequests.value.filter((request) => {\n        return request.name.toLowerCase().includes(query.toLowerCase()) || request.firstName.toLowerCase().includes(query.toLowerCase());\n      });\n    };\n\n    onMounted(getSignupRequests);\n\n    const store = useStore();\n    const idLa = computed(() => store.state.lang.curLang);\n    const cLang = ref(idLa.value === 'fr' ? fr : en);\n\n    watch(idLa, (newLang) => {\n      cLang.value = newLang === 'fr' ? fr : en;\n    });\n\n    const popupCreate = ref({\n      buCreate: false\n    });\n\n    const ToCreatePopup = (tri1) => {\n      popupCreate.value[tri1] = !popupCreate.value[tri1];\n      if (!popupCreate.value[tri1]) {\n        getSignupRequests();\n      }\n    };\n\n    const showRequestPopup = (request) => {\n      selectedRequest.value = request;\n      showPopup.value = true;\n    };\n\n    const closeRequestPopup = () => {\n      showPopup.value = false;\n      selectedRequest.value = null;\n    };\n\n    const handleAcceptRequest = (request) => {\n      // Handle additional logic if needed\n      closeRequestPopup();\n      getSignupRequests();\n    };\n\n    const handleRejectRequest = (request) => {\n      // Handle additional logic if needed\n      closeRequestPopup();\n      getSignupRequests();\n    };\n\n    return {\n      signupRequests,\n      selectedRequest,\n      showPopup,\n      popupCreate,\n      ToCreatePopup,\n      showRequestPopup,\n      closeRequestPopup,\n      handleAcceptRequest,\n      handleRejectRequest,\n      cLang,\n      filterRequest,\n      filteredRequest\n    };\n  }\n}\n</script>\n\n<style>\n.container {\n  position: absolute;\n  width: 99%;\n  height: 89%;\n  top: 100px;\n  overflow: auto;\n}\n\n.place {\n  position: absolute;\n  top: 5%;\n  left: 10%;\n}\n\n.pic{\n  position: absolute;\n  top: -0px;\n  right: 0px;\n  width: 90px;\n  height: auto;\n  z-index: 10;\n}\n\n.cours{\n  position: absolute;\n  top: -30px;\n  right: 250px;\n  width: 100px;\n  height: 100px;\n  z-index: 10;\n  color: azure;\n}\n</style>\n"],"mappings":";;;EAEO,SAAM;AAAW;;EACf,SAAM;AAAO;;;;;;;;uBAHtBA,mBAAA,CAAAC,SAAA,SACEC,YAAA,CAASC,iBAAA,GACTC,mBAAA,CAMM,OANNC,UAMM,GALJD,mBAAA,CAIM,OAJNE,UAIM,GAHJJ,YAAA,CAA2EK,kBAAA;IAAjEC,IAAI,EAAEC,MAAA,CAAAC,KAAK,CAACC,GAAG,CAACC,KAAK;IAAGC,OAAK,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAQL,MAAA,CAAAM,aAAa;IAAA;qCAC5Db,YAAA,CAAqCc,qBAAA;IAAxBC,QAAM,EAAER,MAAA,CAAAS;EAAa,wC,kBAClClB,mBAAA,CAAuJC,SAAA,QAN7JkB,WAAA,CAM4CV,MAAA,CAAAW,eAAe,EAN3D,UAMyBC,OAAO,EAAEC,KAAK;yBAAjCC,YAAA,CAAuJC,oBAAA;MAA/FhB,IAAI,EAAEa,OAAO,CAACI,IAAI,SAASJ,OAAO,CAACK,SAAS;MAAGC,GAAG,EAAEL,KAAK;MAAGT,OAAK,WAAAA,QAAAe,MAAA;QAAA,OAAEnB,MAAA,CAAAoB,gBAAgB,CAACR,OAAO;MAAA;;sCAGrIZ,MAAA,CAAAqB,WAAW,CAACC,QAAQ,I,cAAtCR,YAAA,CAA2FS,qBAAA;IAT7FL,GAAA;IAS2CZ,aAAa,WAAAA,cAAA;MAAA,OAAQN,MAAA,CAAAM,aAAa;IAAA;gDAT7EkB,mBAAA,gBAUiBxB,MAAA,CAAAyB,SAAS,I,cAAxBX,YAAA,CAA6IY,kBAAA;IAV/IR,GAAA;IAU6BN,OAAO,EAAEZ,MAAA,CAAA2B,eAAe;IAAGC,OAAK,EAAE5B,MAAA,CAAA6B,iBAAiB;IAAGC,QAAM,EAAE9B,MAAA,CAAA+B,mBAAmB;IAAGC,QAAM,EAAEhC,MAAA,CAAAiC;6EAVzHT,mBAAA,e"},"metadata":{},"sourceType":"module","externalDependencies":[]}