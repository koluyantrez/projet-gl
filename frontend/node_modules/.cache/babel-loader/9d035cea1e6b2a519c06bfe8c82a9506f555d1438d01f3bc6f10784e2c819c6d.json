{"ast":null,"code":"import \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport axios from 'axios';\nimport TopStudent from '../../elements/TopStudent.vue';\nimport ItemCours from '../../elements/ItemCours.vue';\nimport Cookies from 'js-cookie';\nexport default {\n  components: {\n    ItemCours: ItemCours,\n    TopStudent: TopStudent\n  },\n  data: function data() {\n    return {\n      itemc: [],\n      matricule: ''\n    };\n  },\n  methods: {\n    extractNumberBeforeAt: function extractNumberBeforeAt(email) {\n      var atIndex = email.indexOf('@');\n      if (atIndex !== -1) {\n        var number = email.substring(0, atIndex);\n        return number;\n      } else {\n        return null;\n      }\n    },\n    getCours: function getCours() {\n      var _this = this;\n      var email = Cookies.get('emailStudent');\n      var password = Cookies.get('passwordStudent');\n      if (!email || !password) {\n        // Gérer le cas où les cookies ne sont pas présents\n        return;\n      }\n      var login = {\n        email: email,\n        password: password\n      };\n      console.log(\"email : \" + login.email);\n      this.matricule = this.extractNumberBeforeAt(login.email);\n      console.log(\"matricule : \" + this.matricule);\n      Cookies.set('matriculeStudent', this.matricule);\n      axios.post('http://localhost:1937/students/getActuelCours', login).then(function (response) {\n        var cours = response.data.map(function (cours) {\n          return cours.name;\n        });\n        _this.itemc = cours;\n        _this.$router.push({\n          query: {\n            matricule: login.email\n          }\n        });\n      })[\"catch\"](function (error) {\n        console.error(error);\n      });\n    },\n    goToProfil: function goToProfil() {\n      var email = Cookies.get('email');\n    }\n  },\n  created: function created() {\n    this.getCours();\n    this.goToProfil(); // Appeler la méthode goToProfil()\n  }\n};","map":{"version":3,"names":["axios","TopStudent","ItemCours","Cookies","components","data","itemc","matricule","methods","extractNumberBeforeAt","email","atIndex","indexOf","number","substring","getCours","_this","get","password","login","console","log","set","post","then","response","cours","map","name","$router","push","query","error","goToProfil","created"],"sources":["/home/koluyantrez/Documents/bac3/gl/Projet-developpement-logiciel-2024-main/src/main/java/com/genieLogiciel/Umons/frontend/src/components/everyone/HomeStudent.vue"],"sourcesContent":["<template>\n  <div>\n    <TopStudent/>\n    <div class=\"container\">\n      <div class=\"place\">\n        <ItemCours v-for=\"(item, index) in itemc\" :word=\"item\" :key=\"index\"/>\n      </div>\n    </div>\n    <router-link :to=\"{ name: 'sprofil', params: { matricule: matricule } }\">Profil</router-link>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport TopStudent from '../../elements/TopStudent.vue';\nimport ItemCours from '../../elements/ItemCours.vue';\nimport Cookies from 'js-cookie';\n\nexport default {\n  components: { ItemCours, TopStudent },\n  data() {\n    return {\n      itemc: [],\n      matricule: ''\n    };\n  },\n  methods: {\n    extractNumberBeforeAt(email) {\n      const atIndex = email.indexOf('@');\n      if (atIndex !== -1) {\n        const number = email.substring(0, atIndex);\n        return number;\n      } else {\n        return null;\n      }\n    },\n\n    getCours() {\n      const email = Cookies.get('emailStudent');\n      const password = Cookies.get('passwordStudent');\n      if (!email || !password) {\n        // Gérer le cas où les cookies ne sont pas présents\n        return;\n      }\n\n      const login = {\n        email: email,\n        password: password\n      };\n\n      console.log(\"email : \" + login.email);\n      this.matricule = this.extractNumberBeforeAt(login.email)\n      console.log(\"matricule : \" + this.matricule);\n      Cookies.set('matriculeStudent', this.matricule);\n      axios.post('http://localhost:1937/students/getActuelCours', login)\n          .then(response => {\n            const cours = response.data.map(cours => cours.name);\n            this.itemc = cours;\n            this.$router.push({\n              query: {\n                matricule: login.email\n              }\n            });\n          })\n          .catch(error => {\n            console.error(error);\n          });\n    },\n\n    goToProfil() {\n      const email = Cookies.get('email');\n\n    }\n  },\n\n  created() {\n    this.getCours();\n    this.goToProfil(); // Appeler la méthode goToProfil()\n  }\n};\n</script>\n\n<style scoped>\n.container {\n  position: absolute;\n  width: 100%;\n  height: 54rem;\n  bottom: 0.1rem;\n  left: -0.42rem;\n  overflow: auto;\n  z-index: 1;\n  transform: translateY(50px);\n}\n\n.place {\n  position: absolute;\n  top: 1rem;\n  left: 10%;\n}\n</style>"],"mappings":";;;;AAaA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,UAAS,MAAO,+BAA+B;AACtD,OAAOC,SAAQ,MAAO,8BAA8B;AACpD,OAAOC,OAAM,MAAO,WAAW;AAE/B,eAAe;EACbC,UAAU,EAAE;IAAEF,SAAS,EAATA,SAAS;IAAED,UAAS,EAATA;EAAW,CAAC;EACrCI,IAAI,WAAAA,KAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,SAAS,EAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,qBAAqB,WAAAA,sBAACC,KAAK,EAAE;MAC3B,IAAMC,OAAM,GAAID,KAAK,CAACE,OAAO,CAAC,GAAG,CAAC;MAClC,IAAID,OAAM,KAAM,CAAC,CAAC,EAAE;QAClB,IAAME,MAAK,GAAIH,KAAK,CAACI,SAAS,CAAC,CAAC,EAAEH,OAAO,CAAC;QAC1C,OAAOE,MAAM;MACf,OAAO;QACL,OAAO,IAAI;MACb;IACF,CAAC;IAEDE,QAAQ,WAAAA,SAAA,EAAG;MAAA,IAAAC,KAAA;MACT,IAAMN,KAAI,GAAIP,OAAO,CAACc,GAAG,CAAC,cAAc,CAAC;MACzC,IAAMC,QAAO,GAAIf,OAAO,CAACc,GAAG,CAAC,iBAAiB,CAAC;MAC/C,IAAI,CAACP,KAAI,IAAK,CAACQ,QAAQ,EAAE;QACvB;QACA;MACF;MAEA,IAAMC,KAAI,GAAI;QACZT,KAAK,EAAEA,KAAK;QACZQ,QAAQ,EAAEA;MACZ,CAAC;MAEDE,OAAO,CAACC,GAAG,CAAC,UAAS,GAAIF,KAAK,CAACT,KAAK,CAAC;MACrC,IAAI,CAACH,SAAQ,GAAI,IAAI,CAACE,qBAAqB,CAACU,KAAK,CAACT,KAAK;MACvDU,OAAO,CAACC,GAAG,CAAC,cAAa,GAAI,IAAI,CAACd,SAAS,CAAC;MAC5CJ,OAAO,CAACmB,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAACf,SAAS,CAAC;MAC/CP,KAAK,CAACuB,IAAI,CAAC,+CAA+C,EAAEJ,KAAK,EAC5DK,IAAI,CAAC,UAAAC,QAAO,EAAK;QAChB,IAAMC,KAAI,GAAID,QAAQ,CAACpB,IAAI,CAACsB,GAAG,CAAC,UAAAD,KAAI;UAAA,OAAKA,KAAK,CAACE,IAAI;QAAA,EAAC;QACpDZ,KAAI,CAACV,KAAI,GAAIoB,KAAK;QAClBV,KAAI,CAACa,OAAO,CAACC,IAAI,CAAC;UAChBC,KAAK,EAAE;YACLxB,SAAS,EAAEY,KAAK,CAACT;UACnB;QACF,CAAC,CAAC;MACJ,CAAC,UACK,CAAC,UAAAsB,KAAI,EAAK;QACdZ,OAAO,CAACY,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IACR,CAAC;IAEDC,UAAU,WAAAA,WAAA,EAAG;MACX,IAAMvB,KAAI,GAAIP,OAAO,CAACc,GAAG,CAAC,OAAO,CAAC;IAEpC;EACF,CAAC;EAEDiB,OAAO,WAAAA,QAAA,EAAG;IACR,IAAI,CAACnB,QAAQ,CAAC,CAAC;IACf,IAAI,CAACkB,UAAU,CAAC,CAAC,EAAE;EACrB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}