{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-e150849e\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"popup\"\n};\nvar _hoisted_2 = {\n  \"class\": \"inner\"\n};\nvar _hoisted_3 = {\n  \"class\": \"course-list\"\n};\nvar _hoisted_4 = {\n  \"class\": \"course-scroll\"\n};\nvar _hoisted_5 = {\n  \"class\": \"course-item-content\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_CirclePlus = _resolveComponent(\"CirclePlus\");\n  var _component_ItemAdd = _resolveComponent(\"ItemAdd\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"ul\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.availableCourses, function (cours, index) {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index,\n      \"class\": \"course-item\"\n    }, [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_CirclePlus, {\n      onClick: function onClick($event) {\n        return $options.addCourse(cours);\n      }\n    }, null, 8 /* PROPS */, [\"onClick\"]), _createElementVNode(\"span\", null, _toDisplayString(cours), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createVNode(_component_ItemAdd, {\n    \"class\": \"back\",\n    word: $data.cLang.pw.back,\n    onClick: _cache[0] || (_cache[0] = function ($event) {\n      return $props.ToShow();\n    })\n  }, null, 8 /* PROPS */, [\"word\"])])]);\n}","map":{"version":3,"names":["_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","$data","availableCourses","cours","index","key","_hoisted_5","_createVNode","_component_CirclePlus","onClick","$event","$options","addCourse","_toDisplayString","_component_ItemAdd","word","cLang","pw","back","_cache","$props","ToShow"],"sources":["C:\\Users\\trist\\Desktop\\projet-gl-main\\frontend\\src\\popup\\ListCoursAdd.vue"],"sourcesContent":["<template>\n    <div class=\"popup\">\n        <div class=\"inner\">\n            <div class=\"course-list\">\n                <ul class=\"course-scroll\">\n                    <li v-for=\"(cours, index) in availableCourses\" :key=\"index\" class=\"course-item\">\n                        <div class=\"course-item-content\">\n                            <CirclePlus @click=\"addCourse(cours)\"/>\n                            <span>{{ cours }}</span>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n            <ItemAdd class=\"back\" :word=\"cLang.pw.back\" @click=\"ToShow()\" />\n        </div>\n    </div>\n</template>\n\n<script>\nimport ItemAdd from '../elements/ItemAdd.vue';\nimport CirclePlus from '../elements/CirclePlus.vue';\nimport { useStore } from 'vuex';\nimport { computed, watch, ref, onMounted } from 'vue';\nimport fr from '../views/fr.js';\nimport en from '../views/en.js';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\n\nexport default {\n  components: { ItemAdd, CirclePlus },\n  props: ['ToShow'],\n\n  data() {\n    const store = useStore();\n    const idLa = computed(() => store.state.lang.curLang);\n    const cLang = ref(idLa.value === 'fr' ? fr : en);\n\n    watch(idLa, (newLang) => {\n      cLang.value = newLang === 'fr' ? fr : en;\n    });\n\n    return {\n      cLang,\n      availableCourses: [],\n    };\n  },\n  methods: {\n    showCourseSelection() {\n      axios.get('http://localhost:1937/api/cours/All')\n        .then(response => {\n          const courses = response.data;\n          this.availableCourses = courses.map(cours => cours.name);\n        })\n        .catch(error => {\n          console.error(error);\n        });\n    },\n    addCourse(cours) {\n      const id = Cookies.get('matriculeProfesseur');\n      const coursName = cours;\n\n      axios.post(`http://localhost:1937/assign-course${id}`, null, {\n        params: {\n          coursName: coursName\n        }\n      })\n      .then(response => {\n        const result = response.data;\n        if (result === 'attribute success') {\n          this.getCourses();\n          this.hideCourseSelection();\n          alert(\"attribute success\");\n        }\n      })\n      .catch(error => {\n        console.error(error);\n      });\n    },\n  },\n  created() {\n    this.showCourseSelection();\n  }\n}\n</script>\n\n<style scoped>\n\n.back{\n    position: relative;\n    bottom: -1rem;\n    left: 8rem;\n}\n\n.popup {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 99;\n}\n\n.inner {\n  position: relative;\n  background: #fff;\n  padding: 39px;\n  border-radius: 10%;\n}\n\n.course-list {\n  height: 16rem;\n  width: 25rem;\n  overflow-y: auto;\n}\n\n.course-scroll {\n  padding: 0;\n  margin: 0;\n  color: #9e0b17;\n}\n\n.course-item {\n  font-size: 20px;\n  font-family: Roboto, sans-serif;\n  color: #9e0b17;\n}\n\n.course-item-content {\n  display: flex;\n  align-items: center;\n}\n\n.course-item-content span {\n  margin-left: 10px;\n}\n</style>\n"],"mappings":";;;;;EACS,SAAM;AAAO;;EACT,SAAM;AAAO;;EACT,SAAM;AAAa;;EAChB,SAAM;AAAe;;EAEZ,SAAM;AAAqB;;;;uBALpDA,mBAAA,CAcM,OAdNC,UAcM,GAbFC,mBAAA,CAYM,OAZNC,UAYM,GAXFD,mBAAA,CASM,OATNE,UASM,GARFF,mBAAA,CAOK,MAPLG,UAOK,I,kBANDL,mBAAA,CAKKM,SAAA,QAVzBC,WAAA,CAKiDC,KAAA,CAAAC,gBAAgB,EALjE,UAKgCC,KAAK,EAAEC,KAAK;yBAAxBX,mBAAA,CAKK;MAL2CY,GAAG,EAAED,KAAK;MAAE,SAAM;QAC9DT,mBAAA,CAGM,OAHNW,UAGM,GAFFC,YAAA,CAAuCC,qBAAA;MAA1BC,OAAK,WAAAA,QAAAC,MAAA;QAAA,OAAEC,QAAA,CAAAC,SAAS,CAACT,KAAK;MAAA;0CACnCR,mBAAA,CAAwB,cAAAkB,gBAAA,CAAfV,KAAK,iB;sCAK9BI,YAAA,CAAgEO,kBAAA;IAAvD,SAAM,MAAM;IAAEC,IAAI,EAAEd,KAAA,CAAAe,KAAK,CAACC,EAAE,CAACC,IAAI;IAAGT,OAAK,EAAAU,MAAA,QAAAA,MAAA,gBAAAT,MAAA;MAAA,OAAEU,MAAA,CAAAC,MAAM;IAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}