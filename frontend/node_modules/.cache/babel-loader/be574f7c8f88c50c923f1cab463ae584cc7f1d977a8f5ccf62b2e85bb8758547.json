{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport ItemAdd from '../elements/ItemAdd.vue';\nimport { useStore } from 'vuex';\nimport { computed, watch, ref } from 'vue';\nimport fr from '../views/fr.js';\nimport en from '../views/en.js';\nimport Cookies from \"js-cookie\";\nimport axios from 'axios';\nexport default {\n  components: {\n    ItemAdd: ItemAdd\n  },\n  props: ['toShow'],\n  data: function data() {\n    var store = useStore();\n    var idLa = computed(function () {\n      return store.state.lang.curLang;\n    });\n    var cLang = ref(idLa.value === 'fr' ? fr : en);\n    var namePer = Cookies.get('selectedPersonName');\n    console.log(namePer);\n    watch(idLa, function (newLang) {\n      cLang.value = newLang === 'fr' ? fr : en;\n    });\n    return {\n      cLang: cLang,\n      src: require('../assets/profil.png'),\n      name: '',\n      email: '',\n      matricule: '',\n      adresse: '',\n      numero: ''\n    };\n  },\n  methods: {\n    closePopup: function closePopup() {\n      this.toShow('buShow');\n    },\n    getPersonnelInfo: function getPersonnelInfo(name) {\n      var _this = this;\n      axios.get(\"http://localhost:1937/personnel/name/\".concat(name)).then(function (response) {\n        var data = response.data;\n        _this.email = data.email;\n        _this.matricule = data.matricule;\n        _this.adresse = data.adresse;\n        _this.numero = data.numero;\n        _this.name = data.name;\n      })[\"catch\"](function (error) {\n        console.error('Error fetching personnel info:', error);\n      });\n    }\n  },\n  created: function created() {\n    var namePer = Cookies.get('selectedPersonName');\n    if (namePer) {\n      this.getPersonnelInfo(namePer);\n    }\n  }\n};","map":{"version":3,"names":["ItemAdd","useStore","computed","watch","ref","fr","en","Cookies","axios","components","props","data","store","idLa","state","lang","curLang","cLang","value","namePer","get","console","log","newLang","src","require","name","email","matricule","adresse","numero","methods","closePopup","toShow","getPersonnelInfo","_this","concat","then","response","error","created"],"sources":["/home/koluyantrez/Documents/bac3/gl/Projet-developpement-logiciel-2024-main/src/main/java/com/genieLogiciel/Umons/frontend/src/popup/GiveInfo.vue"],"sourcesContent":["<template>\n  <div class=\"popup\">\n    <div class=\"inner\">\n      <slot></slot>\n      <center>\n        <img :src=\"src\" alt=\"Profil\" style=\"width: 7rem; height: 7rem;\"/> <!--:src=data.photo-->\n        <div class=\"info\">\n          <p>{{ \"Email : \" + email }}</p>\n          <p>{{ \"Pr√©nom et Nom : \" + name }}</p>\n          <p>{{ \"Matricule : \" + matricule }}</p>\n          <p>{{\"Adresse : \" + adresse }}</p>\n          <p>{{ \"Numero : \" + numero }}</p>\n        </div>\n        <router-link to=\"/ins\">\n          <ItemAdd class=\"close\" :word=\"cLang.pw.back\" @click=\"closePopup\"/>\n        </router-link>\n      </center>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ItemAdd from '../elements/ItemAdd.vue';\nimport { useStore } from 'vuex';\nimport { computed, watch, ref } from 'vue';\nimport fr from '../views/fr.js'\nimport en from '../views/en.js'\nimport Cookies from \"js-cookie\";\nimport axios from 'axios';\n\nexport default {\n  components: { ItemAdd },\n  props: ['toShow'],\n\n  data() {\n    const store = useStore();\n    const idLa = computed(() => store.state.lang.curLang);\n    const cLang = ref(idLa.value === 'fr' ? fr : en);\n    const namePer = Cookies.get('selectedPersonName');\n    console.log(namePer);\n\n    watch(idLa, (newLang) => {\n      cLang.value = newLang === 'fr' ? fr : en;\n    });\n\n    return {\n      cLang,\n      src: require('../assets/profil.png'),\n      name : '',\n      email: '',\n      matricule: '',\n      adresse: '',\n      numero: '',\n    }\n  },\n  methods: {\n    closePopup() {\n      this.toShow('buShow');\n    },\n    getPersonnelInfo(name) {\n      axios.get(`http://localhost:1937/personnel/name/${name}`)\n          .then(response => {\n            const data = response.data;\n            this.email = data.email;\n            this.matricule = data.matricule;\n            this.adresse = data.adresse;\n            this.numero = data.numero;\n            this.name = data.name;\n          })\n          .catch(error => {\n            console.error('Error fetching personnel info:', error);\n          });\n    }\n  },\n  created() {\n    const namePer = Cookies.get('selectedPersonName');\n    if (namePer) {\n      this.getPersonnelInfo(namePer);\n    }\n  }\n}\n</script>\n\n<style scoped>\n.popup {\n  position: fixed;\n  top: 0px;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n  z-index: 99;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.inner {\n  position: relative;\n  background: rgb(255, 255, 255);\n  padding: 39px;\n  border-radius: 10%;\n}\n\n.info {\n  position: relative;\n  color: rgb(158, 11, 23);\n  font-family: Roboto,sans-serif;\n}\n</style>\n"],"mappings":";AAsBA,OAAOA,OAAM,MAAO,yBAAyB;AAC7C,SAASC,QAAO,QAAS,MAAM;AAC/B,SAASC,QAAQ,EAAEC,KAAK,EAAEC,GAAE,QAAS,KAAK;AAC1C,OAAOC,EAAC,MAAO,gBAAe;AAC9B,OAAOC,EAAC,MAAO,gBAAe;AAC9B,OAAOC,OAAM,MAAO,WAAW;AAC/B,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,UAAU,EAAE;IAAET,OAAM,EAANA;EAAQ,CAAC;EACvBU,KAAK,EAAE,CAAC,QAAQ,CAAC;EAEjBC,IAAI,WAAAA,KAAA,EAAG;IACL,IAAMC,KAAI,GAAIX,QAAQ,CAAC,CAAC;IACxB,IAAMY,IAAG,GAAIX,QAAQ,CAAC;MAAA,OAAMU,KAAK,CAACE,KAAK,CAACC,IAAI,CAACC,OAAO;IAAA,EAAC;IACrD,IAAMC,KAAI,GAAIb,GAAG,CAACS,IAAI,CAACK,KAAI,KAAM,IAAG,GAAIb,EAAC,GAAIC,EAAE,CAAC;IAChD,IAAMa,OAAM,GAAIZ,OAAO,CAACa,GAAG,CAAC,oBAAoB,CAAC;IACjDC,OAAO,CAACC,GAAG,CAACH,OAAO,CAAC;IAEpBhB,KAAK,CAACU,IAAI,EAAE,UAACU,OAAO,EAAK;MACvBN,KAAK,CAACC,KAAI,GAAIK,OAAM,KAAM,IAAG,GAAIlB,EAAC,GAAIC,EAAE;IAC1C,CAAC,CAAC;IAEF,OAAO;MACLW,KAAK,EAALA,KAAK;MACLO,GAAG,EAAEC,OAAO,CAAC,sBAAsB,CAAC;MACpCC,IAAG,EAAI,EAAE;MACTC,KAAK,EAAE,EAAE;MACTC,SAAS,EAAE,EAAE;MACbC,OAAO,EAAE,EAAE;MACXC,MAAM,EAAE;IACV;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,UAAU,WAAAA,WAAA,EAAG;MACX,IAAI,CAACC,MAAM,CAAC,QAAQ,CAAC;IACvB,CAAC;IACDC,gBAAgB,WAAAA,iBAACR,IAAI,EAAE;MAAA,IAAAS,KAAA;MACrB3B,KAAK,CAACY,GAAG,yCAAAgB,MAAA,CAAyCV,IAAI,CAAE,EACnDW,IAAI,CAAC,UAAAC,QAAO,EAAK;QAChB,IAAM3B,IAAG,GAAI2B,QAAQ,CAAC3B,IAAI;QAC1BwB,KAAI,CAACR,KAAI,GAAIhB,IAAI,CAACgB,KAAK;QACvBQ,KAAI,CAACP,SAAQ,GAAIjB,IAAI,CAACiB,SAAS;QAC/BO,KAAI,CAACN,OAAM,GAAIlB,IAAI,CAACkB,OAAO;QAC3BM,KAAI,CAACL,MAAK,GAAInB,IAAI,CAACmB,MAAM;QACzBK,KAAI,CAACT,IAAG,GAAIf,IAAI,CAACe,IAAI;MACvB,CAAC,UACK,CAAC,UAAAa,KAAI,EAAK;QACdlB,OAAO,CAACkB,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACxD,CAAC,CAAC;IACR;EACF,CAAC;EACDC,OAAO,WAAAA,QAAA,EAAG;IACR,IAAMrB,OAAM,GAAIZ,OAAO,CAACa,GAAG,CAAC,oBAAoB,CAAC;IACjD,IAAID,OAAO,EAAE;MACX,IAAI,CAACe,gBAAgB,CAACf,OAAO,CAAC;IAChC;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}