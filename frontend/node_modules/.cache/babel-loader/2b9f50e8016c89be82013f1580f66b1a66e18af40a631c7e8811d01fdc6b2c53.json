{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-459fbc99\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  \"class\": \"info\"\n};\nvar _hoisted_2 = /*#__PURE__*/_withScopeId(function () {\n  return /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\n});\nvar _hoisted_3 = {\n  \"class\": \"b\"\n};\nvar _hoisted_4 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_TopProf = _resolveComponent(\"TopProf\");\n  var _component_ItemButton = _resolveComponent(\"ItemButton\");\n  var _component_router_link = _resolveComponent(\"router-link\");\n  var _component_ModifPro = _resolveComponent(\"ModifPro\");\n  var _component_DropImg = _resolveComponent(\"DropImg\");\n  var _component_PassWord = _resolveComponent(\"PassWord\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_TopProf), _createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"p\", null, [_createElementVNode(\"h1\", null, _toDisplayString($setup.professeurInfo.name), 1 /* TEXT */)]), _createElementVNode(\"p\", null, _toDisplayString($setup.professeurInfo.email), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($setup.professeurInfo.dep) + \"/\" + _toDisplayString($setup.professeurInfo.fili), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($setup.professeurInfo.adresse), 1 /* TEXT */), _createElementVNode(\"p\", null, \"+\" + _toDisplayString($setup.professeurInfo.numero), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_ItemButton, {\n    name: $setup.cLang.Profile.edit,\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $setup.ToModPopup('buTriMod');\n    })\n  }, null, 8 /* PROPS */, [\"name\"]), _createVNode(_component_ItemButton, {\n    name: \"Photo\",\n    onClick: _cache[1] || (_cache[1] = function () {\n      return $setup.ToPicPopup('buPic');\n    })\n  }), _createVNode(_component_ItemButton, {\n    name: $setup.cLang.Profile.pw,\n    onClick: _cache[2] || (_cache[2] = function () {\n      return $setup.ToPassPopup('buPass');\n    })\n  }, null, 8 /* PROPS */, [\"name\"]), _createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createVNode(_component_ItemButton, {\n        name: $setup.cLang.Profile.logout\n      }, null, 8 /* PROPS */, [\"name\"])];\n    }),\n    _: 1 /* STABLE */\n  })]), $setup.popupMod.buTriMod ? (_openBlock(), _createBlock(_component_ModifPro, {\n    key: 0,\n    ToModPopup: function ToModPopup() {\n      return $setup.ToModPopup('buTriMod');\n    }\n  }, null, 8 /* PROPS */, [\"ToModPopup\"])) : _createCommentVNode(\"v-if\", true), $setup.AddPic.buPic ? (_openBlock(), _createBlock(_component_DropImg, {\n    key: 1,\n    ToPicPopup: function ToPicPopup() {\n      return $setup.ToPicPopup('buPic');\n    }\n  }, null, 8 /* PROPS */, [\"ToPicPopup\"])) : _createCommentVNode(\"v-if\", true), $setup.pwMod.buPass ? (_openBlock(), _createBlock(_component_PassWord, {\n    key: 2,\n    ToPassPopup: function ToPassPopup() {\n      return $setup.ToPassPopup('buPass');\n    }\n  }, null, 8 /* PROPS */, [\"ToPassPopup\"])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"img\", {\n    \"class\": \"photo\",\n    src: $setup.professeurInfo.pic\n  }, null, 8 /* PROPS */, _hoisted_4)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","_createElementBlock","_Fragment","_createVNode","_component_TopProf","_hoisted_1","_hoisted_2","_toDisplayString","$setup","professeurInfo","name","email","dep","fili","adresse","numero","_hoisted_3","_component_ItemButton","cLang","Profile","edit","onClick","_cache","ToModPopup","ToPicPopup","pw","ToPassPopup","_component_router_link","to","_withCtx","logout","_","popupMod","buTriMod","_createBlock","_component_ModifPro","key","_createCommentVNode","AddPic","buPic","_component_DropImg","pwMod","buPass","_component_PassWord","src","pic","_hoisted_4"],"sources":["C:\\Users\\trist\\Desktop\\projet-gl-main\\frontend\\src\\components\\everyone\\ProfilProf.vue"],"sourcesContent":["<template>\n  <TopProf/>\n    <div class=\"info\">\n      <br>\n      <p><h1>{{ professeurInfo.name }}</h1></p>\n      <p>{{ professeurInfo.email }}</p>\n      <p>{{ professeurInfo.dep }}/{{ professeurInfo.fili }}</p>\n      <p>{{ professeurInfo.adresse }}</p>\n      <p>+{{ professeurInfo.numero }}</p>\n    </div>\n  <div class=\"b\">\n    <ItemButton :name=\"cLang.Profile.edit\"  @click=\"() => ToModPopup('buTriMod')\"/>\n    <ItemButton name=\"Photo\" @click=\"() => ToPicPopup('buPic')\"/>\n    <ItemButton :name=\"cLang.Profile.pw\" @click=\"() => ToPassPopup('buPass')\"/>\n    <router-link to=\"/\">\n      <ItemButton :name=\"cLang.Profile.logout\"/>\n    </router-link>\n\n  </div>\n  <ModifPro v-if=\"popupMod.buTriMod\" :ToModPopup=\"() => ToModPopup('buTriMod')\" />\n  <DropImg v-if=\"AddPic.buPic\" :ToPicPopup=\"() => ToPicPopup('buPic')\" />\n  <PassWord v-if=\"pwMod.buPass\" :ToPassPopup=\"() => ToPassPopup('buPass')\" />\n  <img class=\"photo\" :src=\"professeurInfo.pic\"/>\n</template>\n\n\n<script>\nimport TopProf from '../../elements/TopProf.vue';\nimport ItemButton from '../../elements/ItemButton.vue';\nimport ModifPro from '../../popup/ModifPro.vue';\nimport PassWord from '../../popup/PassWord.vue';\nimport DropImg from '../../popup/DropImg.vue';\nimport { useStore } from 'vuex';\nimport { computed, watch, ref, onMounted } from 'vue';\nimport fr from '../../views/fr.js';\nimport en from '../../views/en.js';\nimport Cookies from \"js-cookie\";\nimport axios from \"axios\";\n\nexport default {\n  components: { TopProf, ItemButton, ModifPro, PassWord, DropImg },\n  setup() {\n\n    const matricule = ref(Cookies.get('matriculeProfesseur'));\n    console.log(\"le matricule de prof est : \" + matricule.value);\n    const store = useStore();\n    const idLa = computed(() => store.state.lang.curLang);\n    const cLang = ref(idLa.value === 'fr' ? fr : en);\n\n    watch(idLa, (newLang) => {\n      cLang.value = newLang === 'fr' ? fr : en;\n    });\n\n    const uploadedFile = ref(null);\n    const handleFileUpload = (event) => {\n      const file = event.target.files[0];\n      uploadedFile.value = URL.createObjectURL(file);\n    };\n    const AddPic = ref({\n      buPic: false\n    });\n    const ToPicPopup = (tri) => {\n      AddPic.value[tri] = !AddPic.value[tri]\n    }\n    const popupMod = ref({\n      buTriMod: false\n    });\n    const ToModPopup = (tri2) => {\n      popupMod.value[tri2] = !popupMod.value[tri2]\n    }\n\n    const pwMod = ref({\n      buPass: false\n    });\n    const ToPassPopup = (tri3) => {\n      pwMod.value[tri3] = !pwMod.value[tri3]\n    };\n    const professeurInfo = ref({\n      name: '',\n      adresse: '',\n      numero: '',\n      email: '',\n      matricule: '',\n      dep: '',\n      fili: '',\n      pic: null\n    });\n\n    const fetchProfInfo = async () => {\n      try {\n        const response = await axios.get(`http://localhost:1937/api/professeurs/${matricule.value}`);\n        const professeurData = response.data;\n        console.log(professeurData);\n        professeurInfo.value.name = professeurData.name;\n        professeurInfo.value.adresse = professeurData.adresse;\n        professeurInfo.value.numero = professeurData.numero;\n        professeurInfo.value.email = professeurData.email;\n        professeurInfo.value.dep = professeurData.departement;\n        professeurInfo.value.fili = professeurData.filiere;\n        professeurInfo.value.pic = `data:image/jpeg;base64,${professeurData.image}`;\n        professeurInfo.value.matricule = professeurData.matricule; // Set the matricule value\n      } catch (error) {\n        console.log('error fetching teacher info : ', error);\n      }\n    };\n\n\n    onMounted(() => {\n      fetchProfInfo();\n    });\n\n    return {\n\n      cLang,\n\n      popupMod,\n      ToModPopup,\n      pwMod,\n      ToPassPopup,\n      AddPic,\n      ToPicPopup,\n      uploadedFile, //update the database\n      handleFileUpload,\n      professeurInfo\n    };\n  }\n}\n</script>\n\n<style scoped>\n.photo{\n  position: absolute;\n  left: 5rem;\n  top: 10rem;\n  width: 20rem;\n  height: 20rem;\n}\n\n.b {\n  position: absolute;\n  left: 5rem;\n  bottom: 3rem;\n}\n\n\n.info {\n  position: absolute;\n  left: 35rem;\n  top: 4.5rem;\n  color: rgb(158, 11, 23);\n  font-family: Roboto, sans-serif;\n  font-size: 35px;\n  transform: translateY(20px);\n}\n</style>\n\n\n<style>\nh1 {\n  color: rgb(158, 11, 23);\n  font-family: Roboto, sans-serif;\n  font-weight: 450;\n  font-size: 100px;\n}\n</style>"],"mappings":";;;;;;EAES,SAAM;AAAM;;sBACfA,mBAAA,CAAI;AAAA;;EAOH,SAAM;AAAG;iBAVhB;;;;;;;;uBAAAC,mBAAA,CAAAC,SAAA,SACEC,YAAA,CAAUC,kBAAA,GACRJ,mBAAA,CAOM,OAPNK,UAOM,GANJC,UAAI,EACJN,mBAAA,CAAyC,YAAtCA,mBAAA,CAAkC,YAAAO,gBAAA,CAA3BC,MAAA,CAAAC,cAAc,CAACC,IAAI,iB,GAC7BV,mBAAA,CAAiC,WAAAO,gBAAA,CAA3BC,MAAA,CAAAC,cAAc,CAACE,KAAK,kBAC1BX,mBAAA,CAAyD,WAAAO,gBAAA,CAAnDC,MAAA,CAAAC,cAAc,CAACG,GAAG,IAAG,GAAC,GAAAL,gBAAA,CAAGC,MAAA,CAAAC,cAAc,CAACI,IAAI,kBAClDb,mBAAA,CAAmC,WAAAO,gBAAA,CAA7BC,MAAA,CAAAC,cAAc,CAACK,OAAO,kBAC5Bd,mBAAA,CAAmC,WAAhC,GAAC,GAAAO,gBAAA,CAAGC,MAAA,CAAAC,cAAc,CAACM,MAAM,iB,GAEhCf,mBAAA,CAQM,OARNgB,UAQM,GAPJb,YAAA,CAA+Ec,qBAAA;IAAlEP,IAAI,EAAEF,MAAA,CAAAU,KAAK,CAACC,OAAO,CAACC,IAAI;IAAIC,OAAK,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAQd,MAAA,CAAAe,UAAU;IAAA;qCAChEpB,YAAA,CAA6Dc,qBAAA;IAAjDP,IAAI,EAAC,OAAO;IAAEW,OAAK,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAQd,MAAA,CAAAgB,UAAU;IAAA;MACjDrB,YAAA,CAA2Ec,qBAAA;IAA9DP,IAAI,EAAEF,MAAA,CAAAU,KAAK,CAACC,OAAO,CAACM,EAAE;IAAGJ,OAAK,EAAAC,MAAA,QAAAA,MAAA;MAAA,OAAQd,MAAA,CAAAkB,WAAW;IAAA;qCAC9DvB,YAAA,CAEcwB,sBAAA;IAFDC,EAAE,EAAC;EAAG;IAdvB,WAAAC,QAAA,CAeM;MAAA,OAA0C,CAA1C1B,YAAA,CAA0Cc,qBAAA;QAA7BP,IAAI,EAAEF,MAAA,CAAAU,KAAK,CAACC,OAAO,CAACW;;;IAfvCC,CAAA;QAmBkBvB,MAAA,CAAAwB,QAAQ,CAACC,QAAQ,I,cAAjCC,YAAA,CAAgFC,mBAAA;IAnBlFC,GAAA;IAmBsCb,UAAU,WAAAA,WAAA;MAAA,OAAQf,MAAA,CAAAe,UAAU;IAAA;6CAnBlEc,mBAAA,gBAoBiB7B,MAAA,CAAA8B,MAAM,CAACC,KAAK,I,cAA3BL,YAAA,CAAuEM,kBAAA;IApBzEJ,GAAA;IAoBgCZ,UAAU,WAAAA,WAAA;MAAA,OAAQhB,MAAA,CAAAgB,UAAU;IAAA;6CApB5Da,mBAAA,gBAqBkB7B,MAAA,CAAAiC,KAAK,CAACC,MAAM,I,cAA5BR,YAAA,CAA2ES,mBAAA;IArB7EP,GAAA;IAqBiCV,WAAW,WAAAA,YAAA;MAAA,OAAQlB,MAAA,CAAAkB,WAAW;IAAA;8CArB/DW,mBAAA,gBAsBErC,mBAAA,CAA8C;IAAzC,SAAM,OAAO;IAAE4C,GAAG,EAAEpC,MAAA,CAAAC,cAAc,CAACoC;0BAtB1CC,UAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}